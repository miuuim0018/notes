<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="é˜¿é‡Œå±±æ—éµé¸å€ç­–ç•¥èˆ‡ç’°å¢ƒç½å®³ç ”ç©¶ - æ•¸ä½äººæ–‡è¦–è§’ä¸‹çš„ç™¾å¹´è»Œè·¡">
    <title>é˜¿é‡Œå±±æ—éµï¼šé›²ç«¯ä¸Šçš„ç™¾å¹´è»Œè·¡èˆ‡åœ°è³ªå°è©±</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        serif: ['"Noto Serif TC"', 'serif'],
                    },
                    colors: {
                        forest: {
                            900: '#1a3c34', // æ·±æ—ç¶ 
                            800: '#234a40',
                            700: '#2d5a4e',
                            100: '#e8f3f0'
                        },
                        earth: {
                            900: '#5c4638',
                            600: '#8c705f', // åœŸå£¤è¤
                            100: '#f4f1ea'  // èˆŠç´™è‰²
                        },
                        hazard: '#c0392b', // ç½å®³ç´…
                        alert: '#e67e22'   // è­¦ç¤ºæ©˜
                    },
                    animation: {
                        'fade-up': 'fadeUp 0.8s ease-out forwards',
                        'grow-width': 'growWidth 1.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        growWidth: {
                            '0%': { width: '0%' },
                            '100%': { width: 'var(--target-width)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Global Styles */
        body {
            background-color: #f4f1ea;
            color: #1a3c34;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f4f1ea; }
        ::-webkit-scrollbar-thumb { background: #8c705f; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #5c4638; }

        /* Typography Utilities */
        .drop-cap::first-letter {
            font-size: 3.5rem;
            font-weight: 900;
            float: left;
            line-height: 0.8;
            margin-right: 0.75rem;
            margin-top: 0.2rem;
            color: #c0392b;
            font-family: "Noto Serif TC", serif;
        }

        /* Technical Grid Background */
        .technical-grid {
            background-size: 20px 20px;
            background-image:
                linear-gradient(to right, rgba(140, 112, 95, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(140, 112, 95, 0.1) 1px, transparent 1px);
        }

        /* Animation Classes */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Timeline styles */
        .timeline-line::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 15px;
            width: 2px;
            background: #8c705f;
            opacity: 0.3;
        }

        /* Image Hover & Modal Styles */
        .zoom-container {
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        .zoom-image {
            transition: transform 0.7s ease;
        }
        .zoom-container:hover .zoom-image {
            transform: scale(1.05);
        }
        .zoom-overlay {
            position: absolute;
            inset: 0;
            background: rgba(26, 60, 52, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .zoom-container:hover .zoom-overlay {
            opacity: 1;
        }

        /* Modal Transitions */
        .modal {
            transition: opacity 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }
        .modal.open {
            opacity: 1;
            pointer-events: auto;
        }
    </style>
</head>
<body class="antialiased selection:bg-earth-600 selection:text-white">

    <div class="fixed top-0 left-0 w-full h-1 z-[60]">
        <div id="progress-bar" class="h-full bg-hazard width-0 transition-all duration-100"></div>
    </div>

    <nav class="fixed top-0 w-full bg-forest-900/95 backdrop-blur-md text-white z-50 shadow-lg border-b border-white/10 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <i class="fa-solid fa-train text-alert"></i>
                    <span class="font-serif font-bold text-lg tracking-widest text-white">ALISHAN <span class="text-earth-600 font-light">Research</span></span>
                </div>
                
                <div class="hidden md:flex space-x-8 text-sm font-medium text-gray-300">
                    <a href="#intro" class="hover:text-white hover:border-b-2 border-alert transition-all py-1">å°è¨€</a>
                    <a href="#history" class="hover:text-white hover:border-b-2 border-alert transition-all py-1">æ­·å²æ²¿é©</a>
                    <a href="#engineering" class="hover:text-white hover:border-b-2 border-alert transition-all py-1">å·¥ç¨‹é¸å€</a>
                    <a href="#disaster" class="hover:text-white hover:border-b-2 border-alert transition-all py-1">åœ°è³ªç½å®³</a>
                    <a href="#ecology" class="hover:text-white hover:border-b-2 border-alert transition-all py-1">ç”Ÿæ…‹æ–‡åŒ–</a>
                </div>

                <button class="md:hidden text-white focus:outline-none" onclick="toggleMenu()">
                    <i class="fa-solid fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <div id="mobile-menu" class="hidden md:hidden bg-forest-900 border-t border-white/10 p-4 absolute w-full">
            <div class="flex flex-col space-y-4 text-center text-gray-300">
                <a href="#intro" onclick="toggleMenu()" class="block py-2 hover:text-white hover:bg-forest-800 rounded">å°è¨€</a>
                <a href="#history" onclick="toggleMenu()" class="block py-2 hover:text-white hover:bg-forest-800 rounded">æ­·å²æ²¿é©</a>
                <a href="#engineering" onclick="toggleMenu()" class="block py-2 hover:text-white hover:bg-forest-800 rounded">å·¥ç¨‹é¸å€</a>
                <a href="#disaster" onclick="toggleMenu()" class="block py-2 hover:text-white hover:bg-forest-800 rounded">åœ°è³ªç½å®³</a>
                <a href="#ecology" onclick="toggleMenu()" class="block py-2 hover:text-white hover:bg-forest-800 rounded">ç”Ÿæ…‹æ–‡åŒ–</a>
            </div>
        </div>
    </nav>

    <header id="intro" class="relative pt-32 pb-24 min-h-[85vh] flex items-center justify-center bg-forest-900 text-earth-100 overflow-hidden">
        <div class="absolute inset-0 opacity-10 pointer-events-none">
            <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                <path d="M0 100 L100 20 L100 100 Z" fill="#ffffff" />
                <path d="M0 100 L40 60 L100 80 L100 100 Z" fill="#8c705f" />
            </svg>
        </div>
        
        <div class="max-w-4xl mx-auto px-4 relative z-10 text-center reveal-on-scroll">
            <div class="inline-flex items-center gap-2 border border-earth-600/50 bg-forest-800/50 backdrop-blur px-4 py-1.5 rounded-full text-xs tracking-[0.2em] mb-8 text-alert uppercase">
                <span class="w-2 h-2 rounded-full bg-alert animate-pulse"></span>
                Digital Humanities Report
            </div>
            
            <h1 class="text-4xl md:text-6xl font-serif font-black mb-6 leading-tight tracking-tight">
                é˜¿é‡Œå±±æ—éµ<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-earth-600 to-white">é›²ç«¯ä¸Šçš„ç™¾å¹´è»Œè·¡</span>
            </h1>
            
            <p class="text-xl md:text-2xl font-serif text-earth-600 mb-8 font-light italic">
                æŒ‘æˆ°åœ°å½¢çš„å·¥ç¨‹å¥‡è¹Ÿï¼Œè¦‹è­‰å°ç£æ—æ¥­èˆ‡åœ°è³ªçš„ç™¾å¹´å°è©±
            </p>

            <p class="text-base md:text-lg opacity-80 max-w-2xl mx-auto font-light leading-relaxed text-gray-300 mb-12">
                å¾æµ·æ‹” 30 å…¬å°ºåˆ° 2,451 å…¬å°ºã€‚æœ¬ç ”ç©¶é€éæ­·å²åœ°ç†è³‡è¨Šï¼ˆHGISï¼‰èˆ‡åœ°è³ªæ½›å‹¢åˆ†æï¼Œæ¢è¨æ—¥æœ¬æ®–æ°‘æ”¿åºœå¦‚ä½•é€ééµè·¯é¸å€é€²è¡Œè³‡æºæ å¥ªï¼Œä»¥åŠé€™äº›å·¥ç¨‹æ±ºç­–å¦‚ä½•åœ¨ç™¾å¹´å¾Œçš„åœ°è³ªç’°å¢ƒä¸­ç•™ä¸‹ä¸å¯ç£¨æ»…çš„å°è¨˜ã€‚
            </p>

            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#engineering" class="bg-earth-600 text-white px-8 py-3 rounded hover:bg-earth-900 transition-colors duration-300 font-medium tracking-wide shadow-lg">
                    æ¢ç´¢é¸å€ç­–ç•¥
                </a>
                <a href="#disaster" class="border border-white/30 text-white px-8 py-3 rounded hover:bg-white/10 transition-colors duration-300 font-medium tracking-wide">
                    æª¢è¦–åœ°è³ªç½å®³
                </a>
            </div>
        </div>
        
        <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce text-earth-600">
            <i class="fa-solid fa-chevron-down text-xl"></i>
        </div>
    </header>
    
    <section id="history" class="py-20 px-4 bg-white relative">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16 reveal-on-scroll">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-forest-900 mb-4">å£¹ã€æ­·å²æ²¿é©</h2>
                <div class="h-1 w-20 bg-earth-600 mx-auto rounded"></div>
                <p class="mt-4 text-earth-600">å¾è³‡æºæ å¥ªåˆ°ä¸–ç•Œéºç”¢æ½›åŠ›é»çš„è½‰å‹ä¹‹è·¯</p>
            </div>

            <div class="relative timeline-line pl-4 md:pl-0">
                <div class="mb-12 md:flex md:gap-8 items-start reveal-on-scroll group">
                    <div class="md:w-1/4 md:text-right md:pr-8 mb-2 md:mb-0 relative">
                        <span class="text-4xl font-serif font-bold text-earth-600 block opacity-20 group-hover:opacity-100 transition-opacity">1899</span>
                        <div class="hidden md:block absolute top-3 right-[-37px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                        <div class="md:hidden absolute top-1 left-[-23px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                    </div>
                    <div class="md:w-3/4 bg-earth-100 p-6 rounded-lg shadow-sm border-l-4 border-forest-900 hover:shadow-md transition-shadow">
                        <h3 class="text-xl font-bold text-forest-900 mb-2">è³‡æºæ¢å‹˜èˆ‡ç™¼ç¾</h3>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            æŠ€å·¥å°æ± ä¸‰ä¹éƒç™¼ç¾é˜¿é‡Œå±±å€å·¨å¤§çš„é‡è‘‰æ—ï¼ˆç´…æªœèˆ‡æ‰æŸï¼‰è“„ç©é‡ã€‚ç¸½ç£åºœç¢ºèªé–‹ç™¼åƒ¹å€¼ï¼Œé–‹å•Ÿäº†é€™å ´é«˜å±±éµè·¯çš„åºå¹•ã€‚
                        </p>
                    </div>
                </div>

                <div class="mb-12 md:flex md:gap-8 items-start reveal-on-scroll group">
                    <div class="md:w-1/4 md:text-right md:pr-8 mb-2 md:mb-0 relative">
                        <span class="text-4xl font-serif font-bold text-earth-600 block opacity-20 group-hover:opacity-100 transition-opacity">1912</span>
                        <div class="hidden md:block absolute top-3 right-[-37px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                        <div class="md:hidden absolute top-1 left-[-23px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                    </div>
                    <div class="md:w-3/4 bg-earth-100 p-6 rounded-lg shadow-sm border-l-4 border-forest-900 hover:shadow-md transition-shadow">
                        <h3 class="text-xl font-bold text-forest-900 mb-2">å˜‰ç¾©è‡³äºŒè¬å¹³é€šè»Š</h3>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            å…‹æœè‰±é‰…åœ°å½¢èˆ‡è³‡é‡‘å›°é›£ï¼Œæ—éµä¸»ç·šé€šè»Šã€‚é€™æ˜¯å·¥ç¨‹æŠ€è¡“çš„å‹åˆ©ï¼Œä¹Ÿæ˜¯å¤§è¦æ¨¡ä¼æœ¨æ™‚ä»£çš„é–‹å§‹ã€‚
                        </p>
                    </div>
                </div>

                <div class="mb-12 md:flex md:gap-8 items-start reveal-on-scroll group">
                    <div class="md:w-1/4 md:text-right md:pr-8 mb-2 md:mb-0 relative">
                        <span class="text-4xl font-serif font-bold text-earth-600 block opacity-20 group-hover:opacity-100 transition-opacity">1931</span>
                        <div class="hidden md:block absolute top-3 right-[-37px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                        <div class="md:hidden absolute top-1 left-[-23px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                    </div>
                    <div class="md:w-3/4 bg-earth-100 p-6 rounded-lg shadow-sm border-l-4 border-alert hover:shadow-md transition-shadow">
                        <h3 class="text-xl font-bold text-forest-900 mb-2">è§€å…‰è½‰å‹çš„é»ƒé‡‘äº¤å‰</h3>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            éš¨è‘—ã€Œè‡ºç£å…«æ™¯ã€å…¥é¸ï¼Œé›²æµ·æ™¯è§€å¸å¼•å¤§é‡éŠå®¢ã€‚å®¢é‹æ”¶å…¥é¦–æ¬¡è¶…è¶Šè²¨é‹æ”¶å…¥ï¼Œæ—éµæ€§è³ªç”±å–®ç´”ç”¢æ¥­éµè·¯è½‰å‘è§€å…‰é‹è¼¸ã€‚
                        </p>
                    </div>
                </div>

                <div class="mb-12 md:flex md:gap-8 items-start reveal-on-scroll group">
                    <div class="md:w-1/4 md:text-right md:pr-8 mb-2 md:mb-0 relative">
                        <span class="text-4xl font-serif font-bold text-earth-600 block opacity-20 group-hover:opacity-100 transition-opacity">1984~</span>
                        <div class="hidden md:block absolute top-3 right-[-37px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                        <div class="md:hidden absolute top-1 left-[-23px] w-4 h-4 bg-forest-900 rounded-full border-4 border-white z-10"></div>
                    </div>
                    <div class="md:w-3/4 bg-earth-100 p-6 rounded-lg shadow-sm border-l-4 border-forest-700 hover:shadow-md transition-shadow">
                        <h3 class="text-xl font-bold text-forest-900 mb-2">ç¥å±±ç·šèˆ‡æ–‡åŒ–è³‡ç”¢</h3>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            ç‚ºè§€æ—¥å‡ºå¢è¨­ç¥å±±ç·šã€‚2019å¹´å…¬å‘Šç‚ºåœ‹å®¶ç´šé‡è¦æ–‡åŒ–æ™¯è§€ï¼Œè¦‹è­‰ä¼æœ¨æ™‚ä»£çµæŸèˆ‡ç”Ÿæ…‹ä¿è‚²èˆˆèµ·ï¼Œä¸¦èˆ‡å¤šåœ‹é«˜å±±éµè·¯ç· çµå§Šå¦¹éµè·¯ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="engineering" class="py-20 px-4 bg-earth-100 technical-grid">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                
                <div class="order-2 lg:order-1 reveal-on-scroll sticky top-24">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-forest-900 mb-6">è²³ã€é¸å€é‚è¼¯ï¼šè³‡æºèˆ‡åœ°å½¢çš„åšå¼ˆ</h2>
                    
                    <p class="drop-cap text-gray-700 text-lg leading-loose mb-8 text-justify">
                        é˜¿é‡Œå±±æ—éµçš„é¸ç·šä¸¦ééš¨æ©Ÿï¼Œè€Œæ˜¯ä¸€å ´ç²¾å¯†çš„è¨ˆç®—ã€‚é€éåœ°ç†è³‡è¨Šç³»çµ±ï¼ˆGISï¼‰ç–Šåœ–åˆ†æï¼Œæˆ‘å€‘ç™¼ç¾é¸ç·šç­–ç•¥ç›´æ¥å°æ‡‰äº†è³‡æºçš„å‚ç›´åˆ†ä½ˆã€‚
                    </p>

                    <div class="bg-white p-6 rounded-xl shadow-lg border border-earth-600/10 mb-8">
                        <h4 class="font-bold text-forest-900 mb-4 text-sm uppercase tracking-wide border-b pb-2">åœ–è³‡åˆ†æé‡é»</h4>
                        <ul class="space-y-3 text-sm text-gray-600">
                            <li class="flex items-start gap-3">
                                <i class="fa-solid fa-map text-earth-600 mt-1"></i>
                                <span><strong>å…¨ç·šç­–ç•¥ï¼š</strong>åˆ©ç”¨é•·è·é›¢ç›¤æ—‹ä¸²è¯æ¨Ÿè…¦ï¼ˆä½æµ·æ‹”ï¼‰èˆ‡æªœæœ¨ï¼ˆé«˜æµ·æ‹”ï¼‰å…©å¤§ç¶“æ¿Ÿå¸¶ã€‚</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fa-solid fa-circle-notch text-earth-600 mt-1"></i>
                                <span><strong>èºæ—‹ç·šé‚è¼¯ï¼š</strong>ç¨ç«‹å±±èºæ—‹ä¸åƒ…æ˜¯ç‚ºäº†çˆ¬å‡ï¼Œæ›´æ˜¯ç‚ºäº†æ“´å¤§å°æ¨Ÿè…¦å¯®å‘¨é‚Šæ—åœ°çš„æ§åˆ¶ç¯„åœã€‚</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-earth-600/10">
                        <h4 class="font-bold text-forest-900 mb-6 text-sm uppercase tracking-wide border-b pb-2">è³‡æºè˜Šè—é‡åˆ†æ</h4>
                        <div class="space-y-6">
                            <div class="relative">
                                <div class="flex justify-between text-sm mb-1 font-medium">
                                    <span>é‡è‘‰æ— (ç´…æªœ/æ‰æŸ)</span>
                                    <span class="text-forest-900">798,649 mÂ³</span>
                                </div>
                                <div class="w-full bg-gray-200 h-3 rounded-full overflow-hidden">
                                    <div class="bg-forest-700 h-full rounded-full chart-bar" data-width="32%"></div>
                                </div>
                            </div>
                            <div class="relative">
                                <div class="flex justify-between text-sm mb-1 font-medium">
                                    <span>é—Šè‘‰æ— (æ¨Ÿè…¦/æ¥ æœ¨)</span>
                                    <span class="text-earth-600">1,728,660 mÂ³</span>
                                </div>
                                <div class="w-full bg-gray-200 h-3 rounded-full overflow-hidden">
                                    <div class="bg-earth-600 h-full rounded-full chart-bar" data-width="68%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="order-1 lg:order-2 space-y-8 reveal-on-scroll">
                    
                    <div class="group cursor-pointer zoom-container rounded-xl shadow-xl overflow-hidden" onclick="openModal('overall-map')">
                        <div class="relative aspect-[4/3]">
                            <img src="https://i.ibb.co/QF4ZdXFV/1.jpg" class="w-full h-full object-cover zoom-image" alt="æ—éµå…¨ç·šé¸å€åœ–">
                            <div class="zoom-overlay">
                                <div class="bg-white/90 backdrop-blur px-4 py-2 rounded-full text-forest-900 font-bold text-sm shadow-lg">
                                    <i class="fa-solid fa-magnifying-glass-plus mr-2"></i> é»æ“ŠæŸ¥çœ‹å…¨ç·šè³‡æºåˆ†æ
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 border-t border-gray-100">
                            <div class="text-xs font-bold text-earth-600 tracking-wider mb-1">MACRO VIEW</div>
                            <h3 class="text-lg font-bold text-forest-900">è³‡æºå‚ç›´åˆ†ä½ˆèˆ‡é¸ç·šç­–ç•¥</h3>
                        </div>
                    </div>

                    <div class="group cursor-pointer zoom-container rounded-xl shadow-xl overflow-hidden" onclick="openModal('spiral-camphor')">
                        <div class="relative aspect-[4/3]">
                            <img src="https://i.ibb.co/YB8776SG/image.png" class="w-full h-full object-cover zoom-image" alt="ç¨ç«‹å±±èºæ—‹åœ–">
                            <div class="zoom-overlay">
                                <div class="bg-white/90 backdrop-blur px-4 py-2 rounded-full text-forest-900 font-bold text-sm shadow-lg">
                                    <i class="fa-solid fa-magnifying-glass-plus mr-2"></i> é»æ“ŠæŸ¥çœ‹èºæ—‹ç·šç–Šåœ–
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 border-t border-gray-100">
                            <div class="text-xs font-bold text-earth-600 tracking-wider mb-1">MICRO VIEW</div>
                            <h3 class="text-lg font-bold text-forest-900">ç¨ç«‹å±±èºæ—‹èˆ‡æ¨Ÿè…¦è³‡æº</h3>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <section id="disaster" class="py-24 px-4 bg-forest-900 text-earth-100">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16 reveal-on-scroll">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-4">åƒã€èˆ‡ç½å®³å…±èˆï¼šåœ°è³ªä»£åƒ¹</h2>
                <div class="h-1 w-20 bg-alert mx-auto rounded"></div>
                <p class="mt-4 text-gray-400 max-w-2xl mx-auto">
                    ç¶“æ¿Ÿé¸å€èˆ‡å·¥ç¨‹å¾æœèƒŒå¾Œï¼Œéš±è—è‘—ç©¿è¶Šåœ°è³ªæ•æ„Ÿå¸¶çš„ç’°å¢ƒä»£åƒ¹ã€‚é»æ“Šä¸‹æ–¹å¡ç‰‡æª¢è¦–è©³ç´°åœ°è³ªåˆ†æã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <article class="bg-forest-800 rounded-2xl overflow-hidden shadow-2xl border border-white/5 reveal-on-scroll group cursor-pointer zoom-container" onclick="openModal('spiral-geo')">
                    <div class="relative h-64 overflow-hidden">
                        <img src="https://i.ibb.co/F4C5HHry/image.jpg" class="w-full h-full object-cover zoom-image" alt="ç¨ç«‹å±±åœ°è³ª">
                        <div class="absolute top-4 left-4 bg-hazard text-white text-xs font-bold px-3 py-1 rounded shadow-lg uppercase tracking-wider">High Risk</div>
                        <div class="zoom-overlay">
                            <i class="fa-solid fa-magnifying-glass-plus text-3xl text-white drop-shadow-lg"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2">ç ´ç¢å¸¶çš„èºæ—‹ï¼šç¨ç«‹å±±</h3>
                        <p class="text-gray-400 text-sm line-clamp-3">
                            èºæ—‹è·¯æ®µåœ°è³ªå¤šå±¬å´©ç©å±¤ï¼Œèˆ‡ã€Œå±±å´©èˆ‡åœ°æ»‘æ•æ„Ÿå€ã€é«˜åº¦é‡ç–Šã€‚ç‚ºç¶­æŒç›¤æ—‹è·¯ç·šé€²è¡Œå¤§é‡é–‹æŒ–ï¼Œå°è‡´è©²è·¯æ®µé•·æœŸé¢è‡¨è½çŸ³å¨è„…ã€‚
                        </p>
                        <div class="mt-4 text-alert text-sm font-medium flex items-center group-hover:translate-x-2 transition-transform">
                            æŸ¥çœ‹GISç–Šåœ–åˆ†æ <i class="fa-solid fa-arrow-right ml-2"></i>
                        </div>
                    </div>
                </article>

                <article class="bg-forest-800 rounded-2xl overflow-hidden shadow-2xl border border-white/5 reveal-on-scroll group cursor-pointer zoom-container" style="transition-delay: 200ms;" onclick="openModal('erwanping')">
                    <div class="relative h-64 overflow-hidden">
                        <img src="https://i.ibb.co/qYS5HfVp/image.png" class="w-full h-full object-cover zoom-image" alt="äºŒè¬å¹³åœ°è³ª">
                        <div class="absolute top-4 left-4 bg-hazard text-white text-xs font-bold px-3 py-1 rounded shadow-lg uppercase tracking-wider">Critical</div>
                        <div class="zoom-overlay">
                            <i class="fa-solid fa-magnifying-glass-plus text-3xl text-white drop-shadow-lg"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2">é †å‘å¡çš„å¤¢é­˜ï¼šäºŒè¬å¹³</h3>
                        <p class="text-gray-400 text-sm line-clamp-3">
                            äºŒè¬å¹³ç«™é«”å®Œå…¨åº§è½æ–¼å¤§è¦æ¨¡ã€Œé †å‘å¡æ»‘å‹•å€ã€ã€‚æ­·å²ä¸Šå¤šæ¬¡å¤§å´©å¡Œè­‰æ˜ï¼Œé€™æ˜¯é¸å€æ–¼å¹³å¦åœ°å½¢å»å¿½ç•¥åœ°è³ªæ¢ä»¶çš„å…¸å‹æ¡ˆä¾‹ã€‚
                        </p>
                        <div class="mt-4 text-alert text-sm font-medium flex items-center group-hover:translate-x-2 transition-transform">
                            æŸ¥çœ‹é †å‘å¡åˆ†æ <i class="fa-solid fa-arrow-right ml-2"></i>
                        </div>
                    </div>
                </article>

                <article class="bg-forest-800 rounded-2xl overflow-hidden shadow-2xl border border-white/5 reveal-on-scroll group cursor-pointer zoom-container" style="transition-delay: 400ms;" onclick="openModal('mianyue')">
                    <div class="relative h-64 overflow-hidden">
                        <img src="https://i.ibb.co/YTF9P8Qz/image.jpg" class="w-full h-full object-cover zoom-image" alt="çœ æœˆç·šå´©å¡Œ">
                        <div class="absolute top-4 left-4 bg-alert text-white text-xs font-bold px-3 py-1 rounded shadow-lg uppercase tracking-wider">Time Series</div>
                        <div class="zoom-overlay">
                            <i class="fa-solid fa-magnifying-glass-plus text-3xl text-white drop-shadow-lg"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2">æ™‚ç©ºè®Šé·ï¼šçœ æœˆç·šå´©å¡Œ</h3>
                        <p class="text-gray-400 text-sm line-clamp-3">
                            è¡›æ˜Ÿå½±åƒå°æ¯”é¡¯ç¤ºï¼Œçœ æœˆç·šå‘¨é‚Šå´©å¡Œåœ°æŒçºŒæ“´å¤§ï¼Œè­‰å¯¦æ—©æœŸé–‹ç™¼æ“¾å‹•äº†åœ°è³ªå¹³è¡¡ã€‚
                        </p>
                        <div class="mt-4 text-alert text-sm font-medium flex items-center group-hover:translate-x-2 transition-transform">
                            æŸ¥çœ‹è¡›æ˜Ÿå½±åƒå°æ¯” <i class="fa-solid fa-arrow-right ml-2"></i>
                        </div>
                    </div>
                </article>

            </div>
        </div>
    </section>

    <section id="ecology" class="py-20 px-4 bg-earth-100">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-serif font-bold text-forest-900 mb-12 text-center reveal-on-scroll">è‚†ã€ç”Ÿæ…‹èˆ‡æ–‡åŒ–è³‡ç”¢</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
                <div class="bg-white p-8 rounded-xl shadow-lg reveal-on-scroll border-t-4 border-forest-700">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-forest-100 rounded-full flex items-center justify-center text-forest-900">
                            <i class="fa-solid fa-tree text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-forest-900">å‚ç›´ç”Ÿæ…‹èµ°å»Š</h3>
                    </div>
                    <p class="text-gray-700 mb-4 leading-relaxed">
                        éµè·¯æ²¿ç·šå‚ç›´è½å·®å¤§ï¼Œå¾ç†±å¸¶ã€æš–å¸¶åˆ°æº«å¸¶æ—ç›¸è®ŠåŒ–è±å¯Œã€‚
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-3 py-1 bg-forest-100 text-forest-900 rounded-full text-xs font-bold">ç›¸æ€æ¨¹ (ä½æµ·æ‹”)</span>
                        <span class="px-3 py-1 bg-earth-100 text-earth-900 rounded-full text-xs font-bold">æ¨Ÿæ¨¹ (ä¸­æµ·æ‹”)</span>
                        <span class="px-3 py-1 bg-forest-900 text-white rounded-full text-xs font-bold">ç´…æªœ/æ‰æŸ (é«˜æµ·æ‹”)</span>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-lg reveal-on-scroll border-t-4 border-earth-600">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-earth-100 rounded-full flex items-center justify-center text-earth-600">
                            <i class="fa-solid fa-globe text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-forest-900">åœ‹éš›éµé“éºç”¢</h3>
                    </div>
                    <p class="text-gray-700 mb-4 leading-relaxed">
                        2019 å¹´å…¬å‘Šç‚ºå°ç£é¦–å€‹é‡è¦æ–‡åŒ–æ™¯è§€ã€‚èˆ‡æ—¥æœ¬å¤§äº•å·éµé“ã€ç‘å£«é¦¬ç‰¹æ´ªå“¥é”éµé“ç­‰å¤šåœ‹é«˜å±±éµè·¯ç· çµå§Šå¦¹éµè·¯ã€‚
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs">ğŸ‡¯ğŸ‡µ æ—¥æœ¬</span>
                        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs">ğŸ‡¨ğŸ‡­ ç‘å£«</span>
                        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs">ğŸ‡®ğŸ‡³ å°åº¦</span>
                    </div>
                </div>
            </div>

            <div class="bg-forest-900 text-white rounded-2xl p-8 md:p-12 relative overflow-hidden reveal-on-scroll">
                <i class="fa-solid fa-circle-question absolute -top-4 -right-4 text-9xl text-white opacity-5"></i>
                <h3 class="text-2xl font-serif font-bold mb-8 text-alert">Did You Know? éµé“å†·çŸ¥è­˜</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center divide-y md:divide-y-0 md:divide-x divide-white/20">
                    <div class="pt-4 md:pt-0">
                        <div class="text-4xl font-black text-white mb-2 counter" data-target="2451">0</div>
                        <div class="text-sm text-gray-400 tracking-widest uppercase">å…¬å°º</div>
                        <p class="mt-2 text-sm">ç¥å±±ç«™æµ·æ‹”ï¼Œå°ç£éµè·¯æœ€é«˜é»</p>
                    </div>
                    <div class="pt-4 md:pt-0 md:pl-8">
                        <div class="text-4xl font-black text-white mb-2">Shay</div>
                        <div class="text-sm text-gray-400 tracking-widest uppercase">è’¸æ±½ç«è»Š</div>
                        <p class="mt-2 text-sm">ç›´ç«‹å¼æ±½ç¼¸èˆ‡å‚˜å‹é½’è¼ªï¼Œå·¥æ¥­é©å‘½æ´»åŒ–çŸ³</p>
                    </div>
                    <div class="pt-4 md:pt-0 md:pl-8">
                        <div class="text-4xl font-black text-white mb-2">71</div>
                        <div class="text-sm text-gray-400 tracking-widest uppercase">å…¬é‡Œ</div>
                        <p class="mt-2 text-sm">ä¸»ç·šå…¨é•·ï¼Œç©¿è¶Šä¸‰ç¨®æ°£å€™å¸¶</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="references" class="bg-white border-t border-gray-200 py-16 px-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-xl font-bold text-forest-900 mb-8 border-b border-gray-200 pb-4">åƒè€ƒæ–‡ç»èˆ‡è³‡æ–™ä¾†æº</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 text-sm text-gray-600">
                <div>
                    <h3 class="font-bold text-forest-700 mb-3"><i class="fa-solid fa-book mr-2"></i>æ­·å²èˆ‡ç©ºé–“ç ”ç©¶</h3>
                    <ul class="space-y-3 list-disc list-outside pl-4">
                        <li>è”¡é¾ä¿ (2023)ã€‚ç”±æ£®æ—éµè·¯åˆ°è§€å…‰éµè·¯ï¼šæ—¥æ²»æ™‚æœŸé˜¿é‡Œå±±éµè·¯ç¶“ç‡Ÿç­–ç•¥ä¹‹è½‰è®Š (1896-1945)ã€‚ã€Šåœ°ç†å­¸å ±ã€‹ã€‚</li>
                        <li>è”¡ä½©è“‰ (2023)ã€‚å¾å¸åœ‹æ£®æ—åˆ°å¸åœ‹é¢¨æ™¯ï¼šé˜¿é‡Œå±±çš„ç©ºé–“ç”Ÿç”¢èˆ‡æ–‡åŒ–æƒ³åƒã€‚</li>
                        <li>ç¸½ç£åºœæ°‘æ”¿å±€æ®–ç”¢èª² (1899)ã€‚é˜¿é‡Œå±±æ£®æ—èª¿æŸ¥å ±å‘Šæ›¸ã€‚</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-hazard mb-3"><i class="fa-solid fa-triangle-exclamation mr-2"></i>åœ°è³ªç½å®³åˆ†æ</h3>
                    <ul class="space-y-3 list-disc list-outside pl-4">
                        <li>Lee, J. T. et al. (2012)ã€‚é˜¿é‡Œå±±æ£®æ—éµè·¯ç½å®³èª¿æŸ¥åŠå¾©å»ºè¦åŠƒã€‚</li>
                        <li>Chou, T. Y. (2025)ã€‚ä»¥å¤§å°ºå¯¸é‚Šå¡æ¨¡å‹æ¢è¨äºŒè¬åªå´©å¡Œåœ°å¤§è¦æ¨¡æ»‘å‹•éç¨‹ã€‚</li>
                        <li>ç¶“æ¿Ÿéƒ¨ä¸­å¤®åœ°è³ªèª¿æŸ¥æ‰€ (2024)ã€‚åœ°è³ªæ•æ„Ÿå€æŸ¥è©¢ç³»çµ±ã€‚</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-12 text-center text-xs text-gray-400">
                <p>&copy; 2025 Alishan Forest Railway Research Project. Designed for Digital Humanities.</p>
            </div>
        </div>
    </footer>

    <div id="image-modal" class="modal fixed inset-0 z-[100] bg-forest-900/95 backdrop-blur-md hidden flex items-center justify-center p-4 md:p-8">
        <button onclick="closeModal()" class="absolute top-4 right-4 md:top-8 md:right-8 text-white/50 hover:text-white transition-colors z-[110]">
            <i class="fa-solid fa-xmark text-4xl"></i>
        </button>

        <div class="bg-white rounded-2xl overflow-hidden max-w-7xl w-full max-h-[90vh] flex flex-col md:flex-row shadow-2xl relative" onclick="event.stopPropagation()">
            
            <div class="md:w-2/3 bg-gray-100 flex items-center justify-center p-4 md:p-0 relative overflow-hidden group">
                <img id="modal-img" src="" alt="Detail View" class="max-h-[50vh] md:max-h-full w-full object-contain transition-transform duration-700 hover:scale-110 cursor-zoom-in">
                <div class="absolute bottom-4 left-4 bg-black/60 text-white text-xs px-2 py-1 rounded pointer-events-none">
                    <i class="fa-solid fa-arrows-up-down-left-right mr-1"></i> å¯ç¸®æ”¾æª¢è¦–
                </div>
            </div>

            <div class="md:w-1/3 p-8 md:p-10 overflow-y-auto bg-white flex flex-col relative">
                <div class="absolute top-0 right-0 p-4 opacity-10 pointer-events-none">
                    <i class="fa-solid fa-quote-right text-6xl text-forest-900"></i>
                </div>

                <div class="mb-auto">
                    <div id="modal-tag" class="inline-block px-3 py-1 bg-earth-100 text-earth-600 rounded-full text-xs font-bold tracking-widest uppercase mb-4">
                        GIS Analysis
                    </div>
                    <h2 id="modal-title" class="text-2xl md:text-3xl font-serif font-bold text-forest-900 mb-6 leading-tight">
                        </h2>
                    <div class="w-12 h-1 bg-alert mb-6 rounded-full"></div>
                    
                    <div class="prose prose-sm text-gray-600 leading-relaxed space-y-4">
                        <p id="modal-desc" class="text-lg text-forest-800 font-medium">
                            </p>
                        <div id="modal-analysis" class="text-gray-500 font-light border-l-2 border-gray-200 pl-4 mt-4">
                            </div>
                    </div>
                </div>

                <div class="mt-8 pt-6 border-t border-gray-100 flex items-center justify-between text-xs text-gray-400">
                    <span><i class="fa-regular fa-image mr-1"></i> Data Source: Historical Maps / Satellite Imagery</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. Data Structure for Image Analysis ---
        // ä¿®æ­£ç‰ˆï¼šå·²å…¨éƒ¨ä½¿ç”¨ ImgBB ç›´é€£ç¶²å€ï¼Œç¢ºä¿ç§’é–‹
        const imageDetails = {
            'overall-map': {
                src: 'https://i.ibb.co/QF4ZdXFV/1.jpg',
                tag: 'Macro Strategy',
                title: 'è³‡æºå‚ç›´åˆ†ä½ˆèˆ‡é¸ç·šç­–ç•¥ç¸½è¦½',
                desc: 'æ—éµé¸å€çš„æ ¹æœ¬é‚è¼¯ï¼šç´…è‰²éµè·¯è·¯ç·šç²¾æº–ä¸²è¯äº†é»ƒè‰²ï¼ˆæ¨Ÿè…¦ï¼‰èˆ‡ç¶ è‰²ï¼ˆç´…æªœï¼‰å…©å¤§ç¶“æ¿Ÿå€å¡Šã€‚',
                analysis: 'é€é1916å¹´è•ƒåœ°åœ°å½¢åœ–èˆ‡è³‡æºåˆ†ä½ˆçš„ç–Šåˆï¼Œæˆ‘å€‘å¯ä»¥æ¸…æ™°çœ‹è¦‹ï¼Œéµè·¯è·¯ç·šçš„èœ¿èœ’ä¸¦éåƒ…ç‚ºäº†å…‹æœåœ°å½¢ï¼Œæ›´æ˜¯ç‚ºäº†æœ€å¤§åŒ–è³‡æºæ§åˆ¶ç¯„åœã€‚å¾å¹³åœ°çš„ç†±å¸¶æ—åˆ°é«˜å±±çš„æº«å¸¶æ—ï¼Œéµè·¯æˆç‚ºäº†æ å¥ªå‚ç›´ç”Ÿæ…‹è³‡æºçš„è¼¸é€å¸¶ã€‚'
            },
            'spiral-camphor': {
                src: 'https://i.ibb.co/YB8776SG/image.png',
                tag: 'Historical Overlay',
                title: 'ç¨ç«‹å±±èºæ—‹ç·šï¼šç‚ºäº†æ¨Ÿè…¦è€Œç›¤æ—‹',
                desc: 'ç–Šåˆ1904å¹´æ—¥æ²»è‡ºç£å ¡åœ–ï¼Œæ­ç¤ºèºæ—‹ç·šçš„ã€Œè…¹åœ°æ“´å¼µã€åŠŸèƒ½ã€‚',
                analysis: 'è¨±å¤šäººèªç‚ºèºæ—‹ç·šï¼ˆSpiralï¼‰ç´”ç²¹æ˜¯ç‚ºäº†çˆ¬å‡ï¼Œä½†å¾åœ–ä¸­å¯è¦‹ï¼Œèºæ—‹è·¯ç·šåˆ»æ„åŒ…åœäº†ã€Œæ¨Ÿè…¦å¯®ã€å‘¨é‚Šçš„æ¨Ÿæ¨¹æ—ï¼ˆé»ƒè‰²å€å¡Šï¼‰ã€‚é€™æ˜¯ä¸€ç¨®é€éå»¶é•·è·¯ç·šä¾†å¢åŠ è…¹åœ°ï¼ˆHinterlandï¼‰æ¥è§¸é¢ç©çš„ç¶“æ¿Ÿç­–ç•¥ï¼Œè®“ç«è»Šèƒ½æ›´æœ‰æ•ˆç‡åœ°å°‡è©²å€åŸŸçš„æ¨Ÿè…¦é‹é€ä¸‹å±±ã€‚'
            },
            'spiral-geo': {
                src: 'https://i.ibb.co/F4C5HHry/image.jpg',
                tag: 'Hazard Analysis',
                title: 'ç ´ç¢å¸¶ä¸Šçš„è»Œè·¡ï¼šç¨ç«‹å±±ç½å®³æ½›å‹¢',
                desc: 'é›–ç„¶è§£æ±ºäº†çˆ¬å‡ï¼Œä½†èºæ—‹ç·šå¯†é›†ç©¿è¶Šåœ°è³ªæ•æ„Ÿå€ã€‚',
                analysis: 'æ­¤åœ–é¡¯ç¤ºè©²å€åŸŸå¯†å¸ƒã€Œè½çŸ³ã€èˆ‡ã€Œé‚Šå¡åæ–¹ã€ç½å®³é»ã€‚é€™è­‰å¯¦äº†åœ¨é å²©èˆ‡ç ‚å²©äº’å±¤çš„ç ´ç¢åœ°è³ªä¸Šï¼Œé€²è¡Œå¤šå±¤æ¬¡çš„å¯†é›†é–‹æŒ–ï¼ˆä¸‰è¿´æ—‹ï¼‰ï¼Œé•·æœŸä»¥ä¾†é€ æˆäº†é‚Šå¡æ¥µåº¦ä¸ç©©å®šï¼Œæ˜¯ä»Šæ—¥æ—éµç¶­è­·æœ€å›°é›£çš„è·¯æ®µä¹‹ä¸€ã€‚'
            },
            'erwanping': {
                src: 'https://i.ibb.co/qYS5HfVp/image.png',
                tag: 'Critical Failure',
                title: 'äºŒè¬å¹³é †å‘å¡ï¼šé¸å€çš„ä»£åƒ¹',
                desc: 'ç‚ºäº†å°‹æ±‚å¹³å¦è…¹åœ°è¨­ç«™ï¼Œå»è¸å…¥äº†é †å‘å¡çš„é™·é˜±ã€‚',
                analysis: 'åœ–ä¸­é«˜æµ·æ‹”çš„ã€ŒäºŒè¬å¹³ã€è»Šç«™ï¼Œå®Œå…¨åº§è½æ–¼å¤§è¦æ¨¡çš„ã€Œå±±å´©èˆ‡åœ°æ»‘åœ°è³ªæ•æ„Ÿå€ã€ã€‚é€™æ˜¯ä¸€å€‹ç¶“å…¸çš„é †å‘å¡ï¼ˆDip Slopeï¼‰åœ°å½¢ã€‚é›–ç„¶åœ°å½¢å¹³å¦é©åˆè¨­ç«™èˆ‡å„²æœ¨ï¼Œä½†åœ°å±¤å‚¾è§’èˆ‡å¡é¢ä¸€è‡´ï¼Œä¸€æ—¦è±ªé›¨æ½¤æ»‘å²©å±¤ä»‹é¢ï¼Œä¾¿æ¥µæ˜“ç™¼ç”Ÿå¤§è¦æ¨¡æ»‘å‹•ã€‚'
            },
            'mianyue': {
                src: 'https://i.ibb.co/YTF9P8Qz/image.jpg',
                tag: 'Time Series',
                title: 'å‚·ç—•é›£ç™’ï¼šçœ æœˆç·šå´©å¡Œæ™‚ç©ºå°æ¯”',
                desc: '1996å¹´èˆ‡2024å¹´è¡›æ˜Ÿå½±åƒå°æ¯”ï¼Œè¦‹è­‰ç’°å¢ƒå›å¾©åŠ›çš„å–ªå¤±ã€‚',
                analysis: 'å¯ä»¥æ¸…æ™°çœ‹è¦‹çœ æœˆç·šæ²¿ç·šçš„å´©å¡Œåœ°åœ¨è¿‘30å¹´é–“ä¸¦æœªå¾©åŸï¼Œåè€Œæœ‰æ“´å¤§è¶¨å‹¢ã€‚é€™è­‰æ˜äº†é«˜å±±åœ°è³ªä¸€ç¶“å·¥ç¨‹æ“¾å‹•ï¼ŒåŠ ä¸Šè¿‘å¹´æ¥µç«¯æ°£å€™å¼·é™é›¨æ²–åˆ·ï¼Œå…¶è‡ªç„¶ä¿®å¾©æ©Ÿåˆ¶å·²è¿‘ä¹å¤±æ•ˆã€‚'
            }
        };

        // --- 2. Modal Logic ---
        const modal = document.getElementById('image-modal');
        const modalImg = document.getElementById('modal-img');
        const modalTag = document.getElementById('modal-tag');
        const modalTitle = document.getElementById('modal-title');
        const modalDesc = document.getElementById('modal-desc');
        const modalAnalysis = document.getElementById('modal-analysis');

        function openModal(key) {
            const data = imageDetails[key];
            if (!data) return;

            // Populate Content
            modalImg.src = data.src;
            modalTag.innerText = data.tag;
            modalTitle.innerText = data.title;
            modalDesc.innerText = data.desc;
            modalAnalysis.innerText = data.analysis;

            // Show Modal
            modal.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                modal.classList.add('open');
            }, 10);
            
            // Disable body scroll
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.remove('open');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300); // Match transition duration
            document.body.style.overflow = 'auto';
        }

        // Close on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeModal();
            }
        });

        // Close on clicking outside content (handled by onclick on parent div)
        modal.onclick = function() {
            closeModal();
        }

        // --- 3. Animation Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = { threshold: 0.1, rootMargin: "0px 0px -50px 0px" };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        entry.target.classList.add('animate-fade-up');
                        
                        // Trigger Chart Animation if inside
                        const charts = entry.target.querySelectorAll('.chart-bar');
                        charts.forEach(chart => {
                            chart.style.width = chart.getAttribute('data-width');
                        });

                        // Trigger Number Counter if inside
                        const counters = entry.target.querySelectorAll('.counter');
                        counters.forEach(counter => {
                            const target = +counter.getAttribute('data-target');
                            const duration = 2000; // ms
                            const increment = target / (duration / 16); 
                            
                            let current = 0;
                            const updateCounter = () => {
                                current += increment;
                                if (current < target) {
                                    counter.innerText = Math.ceil(current);
                                    requestAnimationFrame(updateCounter);
                                } else {
                                    counter.innerText = target;
                                }
                            };
                            updateCounter();
                            // Remove class to prevent re-run
                            counter.classList.remove('counter');
                        });

                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            const revealElements = document.querySelectorAll('.reveal-on-scroll');
            revealElements.forEach(el => observer.observe(el));
        });

        // Progress Bar & Navbar Logic
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progress-bar").style.width = scrolled + "%";
            
            const nav = document.getElementById('navbar');
            if (winScroll > 50) {
                nav.classList.add('shadow-lg', 'bg-forest-900/95');
                nav.classList.remove('bg-transparent');
            }
        };

        function toggleMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }
    </script>
</body>
</html>
