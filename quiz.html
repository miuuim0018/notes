<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—éµçŸ¥è­˜å¤§è€ƒé©— - é˜¿é‡Œå±±æ—æ¥­éµè·¯å°ˆé¡Œ</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        paper: '#F9F7F2',       // ç±³é»ƒè‰²èƒŒæ™¯
                        forest: '#2F5D40',      // æ·±æ£®æ—ç¶ 
                        soil: '#8D6E63',        // åœŸå£¤æ£•
                        ink: '#2D2D2D',         // æ·±ç°
                        gold: '#bfa384',        // é˜¿é‡Œå±±é‡‘
                        correct: '#388E3C',     // æ­£ç¢ºç¶ 
                        wrong: '#D32F2F',       // éŒ¯èª¤ç´…
                    },
                    fontFamily: {
                        serif: ['"Noto Serif TC"', 'serif'], 
                        sans: ['"Noto Sans TC"', 'sans-serif'], 
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F9F7F2;
            color: #2D2D2D;
            -webkit-font-smoothing: antialiased;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateX(5px);
            background-color: rgba(47, 93, 64, 0.1);
        }
        .option-btn:disabled {
            cursor: default;
        }
    </style>
</head>
<body class="font-sans text-lg flex flex-col min-h-screen">

    <header class="bg-forest text-white py-4 px-6 shadow-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <a href="alishan_research.html" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                <span class="font-serif font-bold text-lg">å›åˆ°å°ˆé¡Œé¦–é </span>
            </a>
            <h1 class="text-gold font-serif font-bold hidden md:block">é˜¿é‡Œå±±æ—éµé¸å€èˆ‡ç½å®³æ½›å‹¢åˆ†æ</h1>
        </div>
    </header>

    <main class="flex-grow flex flex-col items-center justify-center p-6 w-full max-w-3xl mx-auto">

        <div id="quiz-container" class="w-full bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden min-h-[500px] flex flex-col relative">
            
            <div class="w-full h-2 bg-gray-200">
                <div id="progress-bar" class="h-full bg-gold transition-all duration-300" style="width: 0%"></div>
            </div>

            <div id="start-screen" class="p-8 md:p-12 flex flex-col items-center justify-center text-center flex-grow fade-in">
                <div class="mb-6 text-6xl">ğŸš‚</div>
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-forest mb-4">æ—éµçŸ¥è­˜å¤§æŒ‘æˆ°</h2>
                <p class="text-gray-600 mb-8 leading-relaxed">
                    æ‚¨çœŸçš„äº†è§£é˜¿é‡Œå±±æ—éµçš„é¸å€ç§˜å¯†èˆ‡ç½å®³åŸå› å—ï¼Ÿ<br>
                    å®Œæˆ 5 é¡ŒæŒ‘æˆ°ï¼Œæ¸¬è©¦æ‚¨æ˜¯å¦å·²ç¶“æŒæ¡äº†é€™ä»½å°ˆé¡Œçš„æ ¸å¿ƒç²¾é«“ï¼
                </p>
                <button onclick="quizApp.startQuiz()" class="bg-forest hover:bg-[#234a31] text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                    é–‹å§‹æ¸¬é©—
                </button>
            </div>

            <div id="question-screen" class="hidden p-6 md:p-10 flex-col h-full fade-in">
                <div class="flex justify-between items-center mb-6 text-sm text-soil font-bold font-serif">
                    <span>QUESTION <span id="q-current">1</span> / <span id="q-total">5</span></span>
                    <span class="bg-paper px-3 py-1 rounded-full border border-soil/20">å¾—åˆ†: <span id="score-display">0</span></span>
                </div>

                <h3 id="question-text" class="text-xl md:text-2xl font-bold text-ink mb-8 leading-snug min-h-[4rem]">
                    é¡Œç›®è¼‰å…¥ä¸­...
                </h3>

                <div id="options-container" class="flex flex-col gap-4 mb-6">
                    </div>

                <div id="feedback-area" class="hidden mt-4 p-4 bg-paper rounded-lg border-l-4 border-gray-300 text-base">
                    <h4 id="feedback-title" class="font-bold mb-2"></h4>
                    <p id="feedback-text" class="text-gray-700"></p>
                    <button onclick="quizApp.nextQuestion()" class="mt-4 bg-soil text-white px-6 py-2 rounded hover:bg-opacity-90 transition float-right">
                        ä¸‹ä¸€é¡Œ â†’
                    </button>
                </div>
            </div>

            <div id="result-screen" class="hidden p-8 md:p-12 flex-col items-center justify-center text-center flex-grow fade-in">
                <div id="result-icon" class="text-6xl mb-4">ğŸ†</div>
                <h2 class="text-3xl font-serif font-bold text-forest mb-2">æ¸¬é©—å®Œæˆï¼</h2>
                <p class="text-lg text-gray-600 mb-6">æ‚¨çš„å¾—åˆ†æ˜¯ï¼š</p>
                
                <div class="text-5xl font-black text-soil mb-6">
                    <span id="final-score">0</span> / 100
                </div>

                <p id="result-comment" class="text-ink font-medium mb-8 p-4 bg-paper rounded-lg max-w-md">
                    </p>

                <div class="flex gap-4">
                    <button onclick="quizApp.restart()" class="border-2 border-forest text-forest font-bold py-2 px-6 rounded-full hover:bg-forest hover:text-white transition">
                        é‡æ–°æŒ‘æˆ°
                    </button>
                    <a href="alishan_research.html" class="bg-forest text-white font-bold py-2 px-6 rounded-full hover:bg-[#234a31] transition shadow-md">
                        è¿”å›é¦–é 
                    </a>
                </div>
            </div>

        </div>

    </main>

    <footer class="text-center text-sm text-gray-500 py-6 border-t border-gray-300 bg-white">
        <p>Â© 2024 åœ‹ç«‹å˜‰ç¾©å¤§å­¸æ•¸ä½å­¸ç¿’è¨­è¨ˆèˆ‡ç®¡ç†å­¸ç³»å°ˆé¡Œè£½ä½œ - äº’å‹•æ¸¬é©—å€</p>
    </footer>

    <script>
        const quizApp = (function() {
            // é¡Œç›®è³‡æ–™åº« (æ ¹æ“šæ‚¨çš„ PDF å…§å®¹ç·¨å¯«)
            const questions = [
                {
                    q: "é˜¿é‡Œå±±æ—éµæœ€åˆçš„é¸å€è¦åŠƒä¸­ï¼Œç‚ºä½•æ”¾æ£„äº†è·¯å¾‘è¼ƒçŸ­çš„ã€Œæ¸…æ°´æºªè·¯ç·šã€ï¼Ÿ",
                    options: [
                        "å› ç‚ºæ¸…æ°´æºªæ°´é‡éå¤§ï¼Œç„¡æ³•èˆˆå»ºæ©‹æ¨‘",
                        "å› ç‚ºé‡åˆ°å¤§å¡”å±±æ–·å´–èˆ‡æ¥µå¤§çš„æµ·æ‹”è½å·®ï¼Œåœ°å½¢éæ–¼éšªå³»",
                        "å› ç‚ºè©²è·¯ç·šç¶“éåŸä½æ°‘éƒ¨è½ï¼Œæºé€šå›°é›£",
                        "å› ç‚ºæ—¥æœ¬æ”¿åºœç¶“è²»ä¸è¶³ï¼Œç„¡æ³•é–‹é‘¿éš§é“"
                    ],
                    answer: 1, // Index 1 is correct
                    explanation: "æ ¹æ“šåœ°å½¢åˆ†æï¼Œæ¸…æ°´æºªè·¯ç·šé›–ç„¶è·é›¢è¼ƒçŸ­ï¼Œä½†æœ«ç«¯é‡åˆ°å¤§å¡”å±±æ–·å´–ï¼Œå¹¾ä¹å‘ˆå‚ç›´çˆ¬å‡ï¼Œä¸”è…¹åœ°ä¸è¶³ç„¡æ³•é€²è¡Œå±•ç·šï¼Œå› æ­¤è¢«è¿«æ”¾æ£„ã€‚"
                },
                {
                    q: "æ—éµåœ¨ç¨ç«‹å±±è·¯æ®µæ¡ç”¨äº†ã€Œèºæ—‹ç·šã€å·¥æ³•ç›¤æ—‹è€Œä¸Šï¼Œä¸»è¦çš„è³‡æºè€ƒé‡æ˜¯ä»€éº¼ï¼Ÿ",
                    options: [
                        "ç‚ºäº†ç¶“éä½æµ·æ‹”çš„æ¨Ÿè…¦æ—ï¼Œä¾¿æ–¼é‹è¼¸",
                        "ç‚ºäº†è®“éŠå®¢æ¬£è³å¤šè§’åº¦çš„é¢¨æ™¯",
                        "ç‚ºäº†é¿é–‹åœ°ä¸‹çš„æ°´æºä¿è­·å€",
                        "ç‚ºäº†é…åˆç•¶æ™‚çš„é¢¨æ°´åœ°ç†ä½ç½®"
                    ],
                    answer: 0,
                    explanation: "ç ”ç©¶æŒ‡å‡ºï¼Œæ—éµè·¯ç·šæ¶µè“‹äº†ä½æµ·æ‹”çš„æ¨Ÿè…¦æ—èˆ‡é«˜æµ·æ‹”çš„æªœæœ¨æ—ã€‚ç¨ç«‹å±±èºæ—‹ç·šçš„è¨­è¨ˆé™¤äº†å…‹æœå¡åº¦ï¼Œä¹Ÿæ˜¯ç‚ºäº†é…åˆç•¶æ™‚è©²å€åŸŸæ¨Ÿè…¦ç”¢æ¥­çš„é‹è¼¸éœ€æ±‚ã€‚"
                },
                {
                    q: "äºŒè¬åªè»Šç«™é™„è¿‘çš„ã€Œä¹‹å­—å½¢ã€è·¯æ®µï¼Œé•·æœŸä»¥ä¾†é¢è‡¨æœ€å¤§çš„åœ°è³ªå±æ©Ÿæ˜¯ä»€éº¼ï¼Ÿ",
                    options: [
                        "ä½æ–¼æ´»ç«å±±å£é™„è¿‘",
                        "ä½æ–¼æ–·å±¤ç ´ç¢å¸¶ä¸”ç„¡æ¤è¢«è¦†è“‹",
                        "ä½æ–¼å¤§è¦æ¨¡çš„ã€Œé †å‘å¡ã€å±±å´©åœ°æ»‘æ•æ„Ÿå€",
                        "ä½æ–¼åœ°ä¸‹æº¶æ´ä¸Šæ–¹ï¼Œæœ‰å¡Œé™·é¢¨éšª"
                    ],
                    answer: 2,
                    explanation: "äºŒè¬åªåœ°å€åº§è½åœ¨é †å‘å¡ä¸Šï¼Œå²©å±¤å‚¾å‘èˆ‡å¡é¢ä¸€è‡´ã€‚ç•¶å¹´ç‚ºäº†åˆ©ç”¨å¹³ç·©åœ°å½¢å¿«é€Ÿèˆˆå»ºä¹‹å­—å½¢è»Œé“ï¼Œå»å¿½è¦–äº†é †å‘å¡ä¸€æ—¦å¤±å»æ”¯æ’æ¥µæ˜“ç™¼ç”Ÿå¤§è¦æ¨¡æ»‘å‹•çš„é¢¨éšªã€‚"
                },
                {
                    q: "é˜¿é‡Œå±±æ—éµå¾å–®ç´”çš„ä¼æœ¨é‹è¼¸è½‰å‹ç‚ºè§€å…‰éµè·¯ï¼Œé—œéµçš„ã€Œé»ƒé‡‘äº¤å‰ã€ï¼ˆå®¢é‹æ”¶å…¥å¤§æ–¼è²¨é‹ï¼‰ç™¼ç”Ÿåœ¨ä½•æ™‚ï¼Ÿ",
                    options: [
                        "1912 å¹´é€šè»Šæ™‚",
                        "1931 å¹´",
                        "1945 å¹´äºŒæˆ°çµæŸå¾Œ",
                        "1980 å¹´ä»£é˜¿é‡Œå±±å…¬è·¯é€šè»Šå¾Œ"
                    ],
                    answer: 1,
                    explanation: "éš¨è‘—ä¼æœ¨æˆæœ¬å¢åŠ èˆ‡è§€å…‰åƒ¹å€¼æå‡ï¼Œ1931 å¹´æ—éµçš„å®¢é‹æ”¶å…¥é¦–æ¬¡è¶…è¶Šè²¨é‹æ”¶å…¥ï¼Œæ¨™èªŒè‘—æ—éµæ­£å¼è½‰å‹ç‚ºå…·å‚™è§€å…‰åƒ¹å€¼çš„éµé“ã€‚"
                },
                {
                    q: "åœ¨ç¨ç«‹å±±è·¯æ®µï¼Œé™¤äº†å…ˆå¤©è„†å¼±çš„åœ°è³ªå¤–ï¼Œå“ªé …ã€Œäººç‚ºå› ç´ ã€åŠ åŠ‡äº†é‚Šå¡çš„ä¸ç©©å®šæ€§ï¼Ÿ",
                    options: [
                        "éŠå®¢éå¤šå°è‡´åœ°å±¤ä¸‹é™·",
                        "å¤§é‡ç¨®æ¤æ·ºæ ¹ç³»çš„æª³æ¦”æ¨¹ï¼Œé™ä½æŠ“åœ°åŠ›",
                        "éåº¦èˆˆå»ºæº«æ³‰é£¯åº—",
                        "éµè·¯ç­æ¬¡éæ–¼å¯†é›†ç”¢ç”Ÿéœ‡å‹•"
                    ],
                    answer: 1,
                    explanation: "GIS ç–Šåœ–åˆ†æé¡¯ç¤ºï¼Œç¨ç«‹å±±åœ°è³ªæ•æ„Ÿå€èˆ‡æª³æ¦”ç¨®æ¤ç¯„åœé«˜åº¦é‡ç–Šã€‚æª³æ¦”æ¨¹å±¬æ–¼æ·ºæ ¹ç³»æ¤ç‰©ï¼Œæˆªç•™é›¨æ°´èƒ½åŠ›å·®ï¼Œå¤§å¹…å‰Šå¼±äº†é‚Šå¡çš„æŠ—ç½èƒ½åŠ›ã€‚"
                }
            ];

            let currentIdx = 0;
            let score = 0;
            const scorePerQ = 100 / questions.length;

            // DOM Elements
            const els = {
                bar: document.getElementById('progress-bar'),
                screens: {
                    start: document.getElementById('start-screen'),
                    quiz: document.getElementById('question-screen'),
                    result: document.getElementById('result-screen')
                },
                qCurrent: document.getElementById('q-current'),
                qTotal: document.getElementById('q-total'),
                qText: document.getElementById('question-text'),
                optContainer: document.getElementById('options-container'),
                scoreDisplay: document.getElementById('score-display'),
                feedback: {
                    area: document.getElementById('feedback-area'),
                    title: document.getElementById('feedback-title'),
                    text: document.getElementById('feedback-text')
                },
                finalScore: document.getElementById('final-score'),
                resultComment: document.getElementById('result-comment'),
                resultIcon: document.getElementById('result-icon')
            };

            function showScreen(name) {
                Object.values(els.screens).forEach(el => el.classList.add('hidden'));
                els.screens[name].classList.remove('hidden');
                els.screens[name].classList.remove('fade-in');
                void els.screens[name].offsetWidth; // trigger reflow
                els.screens[name].classList.add('fade-in');
            }

            function startQuiz() {
                currentIdx = 0;
                score = 0;
                els.scoreDisplay.textContent = '0';
                els.qTotal.textContent = questions.length;
                loadQuestion();
                showScreen('quiz');
            }

            function loadQuestion() {
                const q = questions[currentIdx];
                els.qCurrent.textContent = currentIdx + 1;
                els.bar.style.width = `${((currentIdx) / questions.length) * 100}%`;
                
                els.qText.textContent = q.q;
                els.optContainer.innerHTML = '';
                els.feedback.area.classList.add('hidden');

                q.options.forEach((opt, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn w-full text-left p-4 rounded-lg border border-gray-300 hover:border-forest hover:bg-white bg-white text-ink font-medium shadow-sm';
                    btn.textContent = opt;
                    btn.onclick = () => checkAnswer(idx, btn);
                    els.optContainer.appendChild(btn);
                });
            }

            function checkAnswer(selectedIdx, btnElement) {
                // Disable all buttons
                const buttons = els.optContainer.querySelectorAll('button');
                buttons.forEach(b => b.disabled = true);

                const q = questions[currentIdx];
                const isCorrect = selectedIdx === q.answer;

                // Style buttons
                if (isCorrect) {
                    btnElement.classList.add('bg-[#E8F5E9]', 'border-correct', 'text-correct');
                    score += scorePerQ;
                    els.scoreDisplay.textContent = Math.round(score);
                    els.feedback.title.textContent = "âœ… å›ç­”æ­£ç¢ºï¼";
                    els.feedback.title.className = "font-bold mb-2 text-correct";
                    els.feedback.area.className = "mt-4 p-4 bg-[#E8F5E9] rounded-lg border-l-4 border-correct text-base fade-in";
                } else {
                    btnElement.classList.add('bg-[#FFEBEE]', 'border-wrong', 'text-wrong');
                    // Highlight correct one
                    buttons[q.answer].classList.add('bg-[#E8F5E9]', 'border-correct', 'text-correct', 'ring-2', 'ring-correct');
                    els.feedback.title.textContent = "âŒ å›ç­”éŒ¯èª¤";
                    els.feedback.title.className = "font-bold mb-2 text-wrong";
                    els.feedback.area.className = "mt-4 p-4 bg-[#FFEBEE] rounded-lg border-l-4 border-wrong text-base fade-in";
                }

                els.feedback.text.textContent = q.explanation;
                els.feedback.area.classList.remove('hidden');
            }

            function nextQuestion() {
                currentIdx++;
                if (currentIdx < questions.length) {
                    loadQuestion();
                } else {
                    showResult();
                }
            }

            function showResult() {
                els.bar.style.width = '100%';
                els.finalScore.textContent = Math.round(score);
                
                let comment = "";
                let icon = "";
                if (score === 100) {
                    icon = "ğŸš‚ğŸŒŸ";
                    comment = "å¤ªå²å®³äº†ï¼æ‚¨ç°¡ç›´æ˜¯æ—éµç³»æ•™æˆï¼æ‚¨å·²ç¶“å®Œå…¨æŒæ¡äº†é€™ä»½å°ˆé¡Œçš„æ‰€æœ‰ç´°ç¯€ã€‚";
                } else if (score >= 80) {
                    icon = "ğŸŒ²âœ¨";
                    comment = "å„ªç§€ï¼æ‚¨å°é˜¿é‡Œå±±æ—éµæœ‰ç›¸ç•¶æ·±å…¥çš„äº†è§£ï¼Œåªå·®ä¸€é»é»å°±æ»¿åˆ†å›‰ï¼";
                } else if (score >= 60) {
                    icon = "ğŸ›¤ï¸";
                    comment = "é‚„ä¸éŒ¯å–”ï¼å»ºè­°æ‚¨å¯ä»¥å†å›é ­é–±è®€ä¸€ä¸‹å°ˆé¡Œå ±å‘Šä¸­çš„ã€Œåœ°è³ªèˆ‡ç½å®³ã€ç« ç¯€ï¼Œæœƒæœ‰æ›´å¤šæ”¶ç©«ï¼";
                } else {
                    icon = "ğŸ“š";
                    comment = "åˆ¥ç°å¿ƒï¼é€™ä»½å ±å‘ŠåŒ…å«äº†å¾ˆå¤šå°ˆæ¥­çš„é¸å€èˆ‡åœ°è³ªçŸ¥è­˜ï¼Œæ­¡è¿å›åˆ°é¦–é å†ä»”ç´°é–±è®€ä¸€æ¬¡å§ï¼";
                }
                
                els.resultIcon.textContent = icon;
                els.resultComment.textContent = comment;
                showScreen('result');
            }

            function restart() {
                startQuiz();
            }

            return {
                startQuiz,
                checkAnswer,
                nextQuestion,
                restart
            };
        })();
    </script>
</body>
</html>
