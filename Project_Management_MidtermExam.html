é€™æ˜¯ä¸€ä»½çµ‚æ¥µæ•´åˆç‰ˆçš„ã€Œå°ˆæ¡ˆç®¡ç†å…¨åŠŸèƒ½è¤‡ç¿’ç³»çµ± V4.0ã€ã€‚

æˆ‘å·²å°‡æ‚¨å‰›å‰›æä¾›éå¸¸å®Œæ•´ã€è©³ç´°çš„ç­†è¨˜è³‡æ–™ï¼Œèˆ‡å…ˆå‰çš„åŠŸèƒ½ï¼ˆèƒŒèª¦é®ç½©ã€é€²åº¦è¿½è¹¤ã€æ·±è‰²æ¨¡å¼ç­‰ï¼‰é€²è¡Œäº†æ·±åº¦æ•´åˆã€‚

### ğŸ†• V4.0 é‡å¤§æ›´æ–°ï¼š

1.  **å…§å®¹æ·±åº¦å‡ç´š**ï¼šä¸åƒ…æ˜¯ç°¡å–®çš„å®šç¾©ï¼Œç¾åœ¨åŠ å…¥äº†æ‚¨æä¾›çš„ã€ŒVUCA æ™‚ä»£ã€ã€ã€Œç”¢å“ç¯„ç–‡ vs. å°ˆæ¡ˆç¯„ç–‡ã€ã€ã€ŒWBS 100% åŸå‰‡ã€ã€ã€Œåƒèˆ‡è©•ä¼°çŸ©é™£ã€ç­‰æ›´ç´°ç·»çš„è€ƒé»ã€‚
2.  **æ–°å¢ã€Œè§€å¿µé¡æ¯”ã€å€å¡Š**ï¼šæˆ‘å°‡æ‚¨ç­†è¨˜ä¸­éå¸¸ç²¾å½©çš„ã€Œè“‹å¤§æ¨“ã€èˆ‡ã€Œäº¤éŸ¿æ¨‚åœ˜ã€æ¯”å–»ï¼Œè£½ä½œæˆç¨ç«‹çš„è¨˜æ†¶å¡ç‰‡ï¼Œå¹«åŠ©æ·±åº¦ç†è§£ã€‚
3.  **å„ªåŒ–é®ç½©è€ƒé»**ï¼šæ ¹æ“šæ–°è³‡æ–™ï¼Œå¢åŠ äº†æ›´å¤šé—œéµå­—çš„é®ç½©ï¼ˆä¾‹å¦‚ï¼šæ»¾å‹•å¼è¦åŠƒã€æ¼¸é€²æ˜ç´°ï¼‰ã€‚

è«‹è¤‡è£½ä¸‹æ–¹çš„å®Œæ•´ç¨‹å¼ç¢¼ï¼Œå¦å­˜ç‚º `.html` æª”æ¡ˆï¼Œé€™å°‡æ˜¯æ‚¨ç›®å‰æœ€å®Œå–„çš„è¤‡ç¿’å·¥å…·ã€‚

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ˆæ¡ˆç®¡ç†å…¨åŠŸèƒ½è¤‡ç¿’ç³»çµ± V4.0 (çµ‚æ¥µç‰ˆ)</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #eff6ff;
            --secondary: #1e40af;
            --accent: #f59e0b;
            --bg-main: #f8fafc;
            --bg-sidebar: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --mask-bg: #cbd5e1;
            --sidebar-width: 280px;
            --success: #10b981;
        }
        body.dark-mode {
            --primary: #60a5fa;
            --primary-light: #1e293b;
            --secondary: #93c5fd;
            --accent: #fbbf24;
            --bg-main: #0f172a;
            --bg-sidebar: #1e293b;
            --text-main: #e2e8f0;
            --text-muted: #94a3b8;
            --border: #334155;
            --mask-bg: #475569;
        }
        * { box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', "Microsoft JhengHei", sans-serif;
            line-height: 1.75;
            color: var(--text-main);
            background-color: var(--bg-main);
            margin: 0;
            display: flex;
            height: 100vh;
            transition: all 0.3s ease;
        }
        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: fixed;
            z-index: 100;
            transition: transform 0.3s;
        }
        .sidebar-header { padding: 20px; border-bottom: 1px solid var(--border); }
        .sidebar-header h3 { margin: 0; color: var(--primary); font-size: 1.3em; }
        .search-box { margin-top: 15px; position: relative; }
        .search-box input {
            width: 100%; padding: 10px 35px 10px 12px;
            border: 2px solid var(--border); border-radius: 8px;
            background: var(--bg-main); color: var(--text-main); outline: none;
        }
        .search-box::after { content: 'ğŸ”'; position: absolute; right: 12px; top: 50%; transform: translateY(-50%); opacity: 0.5; }
        .sidebar-nav { flex: 1; overflow-y: auto; padding: 15px; }
        .nav-link {
            display: block; padding: 10px 12px; color: var(--text-main);
            text-decoration: none; border-radius: 8px; margin-bottom: 5px;
            font-size: 0.95em; transition: all 0.2s; display: flex; align-items: center;
        }
        .nav-link:hover, .nav-link.active { background-color: var(--primary-light); color: var(--primary); font-weight: 600; }
        .progress-dot {
            width: 8px; height: 8px; border-radius: 50%; background: var(--border);
            margin-right: 10px; flex-shrink: 0; transition: background 0.3s;
        }
        .nav-link.mastered .progress-dot { background: var(--success); }
        .sidebar-footer { padding: 15px; border-top: 1px solid var(--border); display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .tool-btn {
            padding: 10px; border: none; border-radius: 8px; cursor: pointer;
            font-weight: bold; transition: 0.2s; font-size: 0.9em;
            display: flex; align-items: center; justify-content: center; gap: 6px;
        }
        #btn-dark { background: var(--text-main); color: var(--bg-main); }
        #btn-reset { background: #ef4444; color: white; }
        #btn-flashcard { background: var(--accent); color: #fff; grid-column: span 2; }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            flex: 1; padding: 40px 60px; overflow-y: auto; scroll-behavior: smooth;
        }
        h1 { color: var(--primary); text-align: center; margin-bottom: 10px; }
        .subtitle { text-align: center; color: var(--text-muted); margin-bottom: 50px; }
        h2 {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white; padding: 15px 25px; border-radius: 12px;
            margin: 60px 0 30px 0; box-shadow: 0 4px 15px rgba(37, 99, 235, 0.2);
        }

        /* Content Blocks */
        .section-block {
            background: var(--bg-sidebar); padding: 25px; border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.04); border: 1px solid var(--border);
            margin-bottom: 35px; transition: all 0.3s;
        }
        .section-block.mastered { opacity: 0.6; filter: grayscale(0.8); }
        .section-header {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid var(--primary-light);
        }
        .section-header h3 {
            margin: 0; color: var(--secondary); font-size: 1.3em;
            display: flex; align-items: center; gap: 10px;
        }
        .section-header h3::before {
            content: ''; display: block; width: 6px; height: 24px;
            background: var(--accent); border-radius: 3px;
        }
        .master-check {
            cursor: pointer; display: flex; align-items: center; gap: 8px;
            color: var(--text-muted); padding: 6px 12px; border-radius: 20px;
            border: 2px solid var(--border); font-weight: 600; font-size: 0.9em;
            transition: all 0.2s;
        }
        .master-check:hover { background: var(--primary-light); color: var(--primary); border-color: var(--primary); }
        .master-check.checked { background: var(--success); color: white; border-color: var(--success); }

        /* Interactive Elements */
        .quiz-mask {
            border-bottom: 2px dotted var(--text-muted); cursor: help;
            transition: all 0.3s; padding: 0 2px;
        }
        body.quiz-mode .quiz-mask {
            background-color: var(--mask-bg) !important; color: transparent !important;
            border-radius: 4px; user-select: none; border-bottom: none;
        }
        body.quiz-mode .quiz-mask.revealed {
            background-color: transparent !important; color: inherit !important;
            border-bottom: 2px solid var(--success); animation: pop 0.3s ease-out;
        }
        @keyframes pop { 50% { transform: scale(1.15); } }

        .highlight-box {
            background: var(--primary-light); border-left: 5px solid var(--primary);
            padding: 20px; border-radius: 0 12px 12px 0; margin: 20px 0;
        }
        .exam-tip {
            background: #fffbeb; border: 2px solid var(--accent); color: #92400e;
            padding: 15px; border-radius: 12px; margin: 20px 0; display: flex; gap: 10px;
        }
        .exam-tip::before { content: 'ğŸ’¡'; font-size: 1.5em; }
        body.dark-mode .exam-tip { background: #451a03; color: #fcd34d; }

        table { width: 100%; border-collapse: separate; border-spacing: 0; margin: 25px 0; border-radius: 12px; overflow: hidden; border: 1px solid var(--border); }
        th, td { padding: 15px; border-bottom: 1px solid var(--border); border-right: 1px solid var(--border); }
        th { background: var(--primary-light); color: var(--secondary); font-weight: 700; }
        tr:last-child td { border-bottom: none; } th:last-child, td:last-child { border-right: none; }

        .analogy-card {
            background: linear-gradient(135deg, #a855f7, #6366f1); color: white;
            padding: 25px; border-radius: 16px; margin: 25px 0;
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }
        .analogy-card h4 { margin-top: 0; display: flex; align-items: center; gap: 10px; font-size: 1.2em; }

        /* Floating Tools */
        #quiz-fab {
            position: fixed; bottom: 30px; right: 30px;
            padding: 15px 25px; background: var(--primary); color: white;
            border: none; border-radius: 50px; font-weight: bold; font-size: 1.1em;
            box-shadow: 0 5px 20px rgba(37, 99, 235, 0.4);
            cursor: pointer; z-index: 90; display: flex; align-items: center; gap: 10px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #quiz-fab:hover { transform: scale(1.05) translateY(-5px); }
        body.quiz-mode #quiz-fab { background: var(--accent); box-shadow: 0 5px 20px rgba(245, 158, 11, 0.4); }

        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); z-index: 1000;
            display: none; justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .modal-overlay.active { display: flex; animation: fadeIn 0.3s; }
        .flashcard {
            background: var(--bg-sidebar); padding: 40px; border-radius: 24px;
            width: 90%; max-width: 550px; text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); position: relative;
        }

        @media (max-width: 768px) {
            .sidebar { transform: translateX(-105%); }
            .sidebar.open { transform: translateX(0); box-shadow: 100px 0 0 rgba(0,0,0,0.5); }
            .main-content { margin-left: 0; padding: 20px 15px 80px 15px; }
            #menu-toggle { display: block !important; position: fixed; top: 15px; left: 15px; z-index: 101; background: var(--bg-sidebar); padding: 10px; border-radius: 8px; border: 1px solid var(--border); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        }
    </style>
</head>
<body>

    <button id="menu-toggle" style="display:none;">â˜°</button>

    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>ğŸš€ å°ˆæ¡ˆç®¡ç†è¤‡ç¿’ç³»çµ± V4.0</h3>
            <div class="search-box">
                <input type="text" id="search-input" placeholder="æœå°‹ç­†è¨˜...">
            </div>
        </div>
        <div class="sidebar-nav">
            <a href="#sec1" class="nav-link">ğŸ¯ åŸºç¤æ¦‚å¿µèˆ‡æ¶æ§‹</a>
            <a href="#sec1-1" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec1-1"></span>æ ¸å¿ƒå®šç¾©èˆ‡ç‰¹æ€§</a>
            <a href="#sec1-2" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec1-2"></span>PMBOK æ¡†æ¶ (5x10)</a>
            <a href="#sec2" class="nav-link">ğŸ§­ èµ·å§‹éšæ®µ (Initiating)</a>
            <a href="#sec2-1" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec2-1"></span>å°ˆæ¡ˆé¸æ“‡æ¨¡å‹</a>
            <a href="#sec2-2" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec2-2"></span>å°ˆæ¡ˆç« ç¨‹</a>
            <a href="#sec2-3" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec2-3"></span>åˆ©å®³é—œä¿‚äººç®¡ç†</a>
            <a href="#sec3" class="nav-link">ğŸ§± è¦åŠƒéšæ®µ (Planning)</a>
            <a href="#sec3-1" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec3-1"></span>è¨ˆç•«æ›¸èˆ‡ä¸‰å¤§åŸºæº–</a>
            <a href="#sec3-2" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec3-2"></span>ç¯„ç–‡ç®¡ç† (WBS)</a>
            <a href="#sec3-3" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec3-3"></span>è²¬ä»»åˆ†æ´¾ (RACI)</a>
            <a href="#sec3-4" class="nav-link" style="padding-left: 25px;"><span class="progress-dot" data-target="sec3-4"></span>æºé€šèˆ‡åƒèˆ‡</a>
            <a href="#sec4" class="nav-link">âš™ï¸ PM è§’è‰²èˆ‡çµ„ç¹”</a>
            <a href="#sec5" class="nav-link" style="color: var(--accent);">ğŸ§  è§€å¿µé¡æ¯”è¨˜æ†¶å¡</a>
        </div>
        <div class="sidebar-footer">
            <button id="btn-dark" class="tool-btn">ğŸŒ™ å¤œé–“æ¨¡å¼</button>
            <button id="btn-reset" class="tool-btn">ğŸ—‘ï¸ é‡ç½®</button>
            <button id="btn-flashcard" class="tool-btn">ğŸ² éš¨æ©ŸæŠ½é¡Œè€ƒæˆ‘ï¼</button>
        </div>
    </nav>

    <main class="main-content">
        <h1>ğŸ“˜ å°ˆæ¡ˆç®¡ç†æ ¸å¿ƒçŸ¥è­˜ç­†è¨˜</h1>
        <p class="subtitle">PMBOK æ¦‚è¿°ã€çµ„ç¹”ç’°å¢ƒã€èµ·å§‹èˆ‡è¦åŠƒæµç¨‹æ•´åˆç‰ˆ</p>

        <section id="sec1">
            <h2>ğŸ¯ ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¤æ¦‚å¿µèˆ‡æ¶æ§‹</h2>
            
            <div id="sec1-1" class="section-block">
                <div class="section-header"><h3>å£¹ã€æ ¸å¿ƒå®šç¾©èˆ‡ç’°å¢ƒ</h3><div class="master-check" data-id="sec1-1"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p><strong>å°ˆæ¡ˆ (Project)ï¼š</strong>ç‚ºå‰µé€ <span class="quiz-mask">ç¨ä¸€ç„¡äºŒ</span>çš„ç”¢å“ã€æœå‹™æˆ–æˆæœï¼Œè€Œå¾äº‹çš„<span class="quiz-mask">æš«æ™‚æ€§</span>åŠªåŠ›ã€‚</p>
                    <ul>
                        <li><strong>æš«æ™‚æ€§ï¼š</strong>æœ‰æ˜ç¢ºèµ·è¨–ï¼Œéæ°¸ä¹…æŒçºŒã€‚</li>
                        <li><strong>é€æ­¥å®Œå–„ (Progressive Elaboration)ï¼š</strong>éš¨è³‡è¨Šæ˜æœ—ï¼Œè¨ˆç•«ç”±ç²—åˆ°ç´°ï¼ˆå¦‚æ»¾å‹•å¼è¦åŠƒï¼‰ã€‚</li>
                        <li><strong>VUCA æ™‚ä»£ï¼š</strong>ç¾ä»£å°ˆæ¡ˆé¢è‡¨æ˜“è®Šæ€§(V)ã€ä¸ç¢ºå®šæ€§(U)ã€è¤‡é›œæ€§(C)ã€æ¨¡ç³Šæ€§(A)ã€‚</li>
                    </ul>
                    <h4>âš”ï¸ å°ˆæ¡ˆ vs. æ—¥å¸¸ç‡Ÿé‹ (Operations)</h4>
                    <table>
                        <tr><th>æ¯”è¼ƒé …ç›®</th><th>å°ˆæ¡ˆ (Project)</th><th>æ—¥å¸¸ç‡Ÿé‹ (Operations)</th></tr>
                        <tr><td>æ€§è³ª</td><td><span class="quiz-mask">ç¨ç‰¹ã€ä¸€æ¬¡æ€§</span></td><td><span class="quiz-mask">é‡è¤‡æ€§ã€æŒçºŒæ€§</span></td></tr>
                        <tr><td>ç›®çš„</td><td>é©…å‹•<span class="quiz-mask">è®Šé©</span>ã€é”æˆç‰¹å®šç›®æ¨™</td><td>ç¶­æŒçµ„ç¹”<span class="quiz-mask">æ­£å¸¸é‹ä½œ</span></td></tr>
                    </table>
                    <div class="exam-tip">å°ˆæ¡ˆç®¡ç†ç›®æ¨™ï¼šåœ¨çµ¦å®šçš„ç¯„ç–‡ã€æ™‚é–“ã€æˆæœ¬ã€Œä¸‰é‡é™åˆ¶ã€ä¸‹å®Œæˆç›®æ¨™ã€‚æˆåŠŸä¸åƒ…æ˜¯ç”¢å‡º(äº¤ä»˜ç‰©)ï¼Œæ›´æ˜¯éç¨‹(æœ‰æ•ˆç‡)çš„æˆåŠŸã€‚</div>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec1-2" class="section-block">
                <div class="section-header"><h3>è²³ã€PMBOK ç¶“å…¸æ¡†æ¶</h3><div class="master-check" data-id="sec1-2"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <h4>(ä¸€) äº”å¤§æµç¨‹ç¾¤çµ„ (Process Groups) - "How to do"</h4>
                    <p>å°ˆæ¡ˆç”Ÿå‘½é€±æœŸæ˜¯è¿­ä»£çš„ï¼Œéå–®ç´”ç·šæ€§ã€‚</p>
                    <ul>
                        <li><strong>1. èµ·å§‹ (Initiating)ï¼š</strong>å®šç¾©å°ˆæ¡ˆï¼Œç²å¾—æˆæ¬Šã€‚<span class="quiz-mask mnemonic">[å£è¨£: æŒ‘ã€å¤ ã€æ–‡ã€äºº]</span></li>
                        <li><strong>2. è¦åŠƒ (Planning)ï¼š</strong>æœ€å¤§ç¾¤çµ„ï¼Œåˆ¶å®šåŸºæº–ã€‚<span class="quiz-mask mnemonic">[å£è¨£: å·¥ã€è³‡ã€æ’ã€éšª]</span></li>
                        <li><strong>3. åŸ·è¡Œ (Executing)ï¼š</strong>è€—è²»æœ€å¤šè³‡æºäººåŠ›ã€‚<span class="quiz-mask mnemonic">[å£è¨£: äººã€ç®¡ã€åŠ©]</span></li>
                        <li><strong>4. ç›£æ§ (M&C)ï¼š</strong>è¿½è¹¤å·®ç•°ï¼Œè®Šæ›´ç®¡åˆ¶ã€‚<span class="quiz-mask mnemonic">[å£è¨£: å‚¬ã€æ¯”ã€æã€è¶•]</span></li>
                        <li><strong>5. çµæŸ (Closing)ï¼š</strong>é©—æ”¶äº¤ä»˜ï¼Œé‡‹æ”¾è³‡æºã€‚<span class="quiz-mask mnemonic">[å£è¨£: é©—ã€ç´„ã€éŒ¢ã€å ±]</span></li>
                    </ul>
                    <h4>(äºŒ) åå¤§çŸ¥è­˜é ˜åŸŸ - "What to know"</h4>
                    <p>åŒ…å«æ ¸å¿ƒå››é …(ç¯„ç–‡/æ™‚ç¨‹/æˆæœ¬/å“è³ª)ã€ä¿ƒé€²äº”é …(è³‡æº/æºé€š/é¢¨éšª/æ¡è³¼/åˆ©å®³é—œä¿‚äºº)ï¼Œä»¥åŠè² è²¬çµ±ç±Œçš„<span class="quiz-mask">æ•´åˆç®¡ç†</span>ã€‚</p>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>
        </section>

        <section id="sec2">
            <h2>ğŸ§­ ç¬¬äºŒéƒ¨åˆ†ï¼šèµ·å§‹éšæ®µ (Initiating)</h2>
            <div id="sec2-1" class="section-block">
                <div class="section-header"><h3>å£¹ã€å°ˆæ¡ˆé¸æ“‡æ¨¡å‹</h3><div class="master-check" data-id="sec2-1"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p>çµ„ç¹”éœ€é¸æ“‡ CP å€¼æœ€é«˜ã€ç¬¦åˆç­–ç•¥çš„å°ˆæ¡ˆã€‚æ–¹æ³•åˆ†ç‚ºéé‡åŒ–(ä¸»è§€)èˆ‡é‡åŒ–(è²¡å‹™)ã€‚</p>
                    <h4>1. éé‡åŒ–æ¨¡å‹</h4>
                    <ul>
                        <li><strong>è–ç‰› (Sacred Cow)ï¼š</strong><span class="quiz-mask">é«˜å±¤</span>ç›´æ¥æŒ‡ç¤ºï¼Œå¿…é ˆåŸ·è¡Œã€‚</li>
                        <li><strong>ç‡Ÿé‹/ç«¶çˆ­éœ€è¦ï¼š</strong>ç‚ºç¶­æŒé‹ä½œ(å¦‚æ³•è¦ç¢³ç›¤æŸ¥)æˆ–å¸‚å ´ç”Ÿå­˜(å¦‚éŠ€è¡Œæ¨APP)è€Œåšã€‚</li>
                    </ul>
                    <h4>2. é‡åŒ–è²¡å‹™æŒ‡æ¨™ (å¿…è€ƒ)</h4>
                    <table>
                        <tr><th>æŒ‡æ¨™</th><th>æ ¸å¿ƒæ¦‚å¿µ</th><th>æ±ºç­–æ¨™æº–</th></tr>
                        <tr><td>é‚„æœ¬æœŸ</td><td>å›æ”¶æŠ•è³‡æ‰€éœ€æ™‚é–“ã€‚<span class="quiz-mask">å¿½ç•¥</span>è²¨å¹£æ™‚é–“åƒ¹å€¼ã€‚</td><td>è¶Š<span class="quiz-mask">çŸ­</span>è¶Šå¥½</td></tr>
                        <tr><td>æ·¨ç¾å€¼ (NPV)</td><td>æœªä¾†ç¾é‡‘æµæŠ˜ç¾æ¸›æŠ•è³‡ã€‚<span class="quiz-mask">è€ƒé‡</span>æ™‚é–“åƒ¹å€¼ã€‚</td><td>NPV > 0 å¯åšï¼Œè¶Š<span class="quiz-mask">é«˜</span>è¶Šå¥½</td></tr>
                        <tr><td>å…§éƒ¨å ±é…¬ç‡ (IRR)</td><td>ä½¿ NPV = <span class="quiz-mask">0</span> çš„æŠ˜ç¾ç‡ã€‚</td><td>è¶Šé«˜è¶Šå¥½ (éœ€ > å…¬å¸é–€æª»)</td></tr>
                    </table>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec2-2" class="section-block">
                <div class="section-header"><h3>è²³ã€å°ˆæ¡ˆç« ç¨‹ (Project Charter)</h3><div class="master-check" data-id="sec2-2"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <div class="highlight-box">
                        <strong>å®šç¾©ï¼š</strong>å°ˆæ¡ˆçš„ã€Œå‡ºç”Ÿè­‰æ˜ã€ï¼Œæ­£å¼<span class="quiz-mask">æˆæ¬Šå°ˆæ¡ˆå­˜åœ¨</span>ï¼Œä¸¦ä»»å‘½ PMï¼Œè³¦äºˆå…¶å‹•ç”¨çµ„ç¹”è³‡æºçš„æ¬ŠåŠ›ã€‚
                    </div>
                    <ul>
                        <li><strong>ç™¼å¸ƒè€…ï¼š</strong>å°ˆæ¡ˆ<span class="quiz-mask">ç™¼èµ·äºº (Sponsor)</span> æˆ–é«˜å±¤ã€‚PM ä¸èƒ½è‡ªå·±ç™¼å¸ƒã€‚</li>
                        <li><strong>é—œéµå…§å®¹ï¼š</strong>é«˜å±¤ç´šéœ€æ±‚ã€<span class="quiz-mask">SMART</span> ç›®æ¨™ã€ä¸»è¦é‡Œç¨‹ç¢‘ã€ç¸½é ç®—ã€å‡è¨­èˆ‡é™åˆ¶ã€‚</li>
                    </ul>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec2-3" class="section-block">
                <div class="section-header"><h3>åƒã€åˆ©å®³é—œä¿‚äººç®¡ç†</h3><div class="master-check" data-id="sec2-3"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p><strong>æ™‚æ©Ÿï¼š</strong>èµ·å§‹éšæ®µå½±éŸ¿åŠ›æœ€å¤§ï¼Œè®Šæ›´æˆæœ¬æœ€ä½ï¼Œéœ€å„˜æ—©è¾¨è­˜ã€‚</p>
                    <h4>æ¬ŠåŠ›/å½±éŸ¿åŠ›æ–¹æ ¼åœ– (Power/Influence Grid)</h4>
                    <ul>
                        <li>é«˜æ¬ŠåŠ›ã€é«˜å½±éŸ¿åŠ› (VVIP)ï¼š<strong><span class="quiz-mask">é‡é»ç®¡ç† (Manage Closely)</span></strong>ã€‚</li>
                        <li>é«˜æ¬ŠåŠ›ã€ä½å½±éŸ¿åŠ›ï¼š<strong><span class="quiz-mask">ä¿æŒæ»¿æ„ (Keep Satisfied)</span></strong>ã€‚</li>
                        <li>ä½æ¬ŠåŠ›ã€é«˜å½±éŸ¿åŠ›ï¼š<strong><span class="quiz-mask">ä¿æŒå‘ŠçŸ¥ (Keep Informed)</span></strong> (é¿å…è£½é€ éº»ç…©)ã€‚</li>
                        <li>ä½æ¬ŠåŠ›ã€ä½å½±éŸ¿åŠ›ï¼š<strong><span class="quiz-mask">ç›£ç£ (Monitor)</span></strong>ã€‚</li>
                    </ul>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>
        </section>

        <section id="sec3">
            <h2>ğŸ§± ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¦åŠƒéšæ®µ (Planning)</h2>
            <div id="sec3-1" class="section-block">
                <div class="section-header"><h3>å£¹ã€è¨ˆç•«æ›¸èˆ‡åŸºæº–</h3><div class="master-check" data-id="sec3-1"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p><strong>å°ˆæ¡ˆç®¡ç†è¨ˆç•«æ›¸ï¼š</strong>å°ˆæ¡ˆçš„ã€Œæ“ä½œç™½çš®æ›¸ã€ï¼Œæ•´åˆæ‰€æœ‰å­è¨ˆç•«ã€‚</p>
                    <p><strong>ä¸‰å¤§åŸºæº– (Baseline)ï¼š</strong>ç¶“æ ¸å‡†çš„ç‰ˆæœ¬ï¼Œä½œç‚ºç¸¾æ•ˆè¡¡é‡çš„ã€Œå°ºã€ã€‚</p>
                    <ul>
                        <li><span class="quiz-mask">ç¯„ç–‡</span>åŸºæº– (Scope Baseline) = WBS + WBS è¾­å…¸ + ç¯„ç–‡èªªæ˜æ›¸</li>
                        <li><span class="quiz-mask">æ™‚ç¨‹</span>åŸºæº– (Schedule Baseline)</li>
                        <li><span class="quiz-mask">æˆæœ¬</span>åŸºæº– (Cost Baseline)</li>
                    </ul>
                    <div class="exam-tip">åŸºæº–ä¸€æ—¦ç¢ºç«‹ï¼Œä»»ä½•ä¿®æ”¹éƒ½å¿…é ˆèµ°æ­£å¼çš„<strong><span class="quiz-mask">è®Šæ›´ç®¡åˆ¶æµç¨‹ (Change Control)</span></strong>ã€‚</div>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec3-2" class="section-block">
                <div class="section-header"><h3>è²³ã€ç¯„ç–‡ç®¡ç† (WBS)</h3><div class="master-check" data-id="sec3-2"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <h4>(ä¸€) æ ¸å¿ƒæ¦‚å¿µ</h4>
                    <ul>
                        <li><strong>ç”¢å“ç¯„ç–‡ vs. å°ˆæ¡ˆç¯„ç–‡ï¼š</strong>å‰è€…æ˜¯ç”¢å“çš„åŠŸèƒ½ç‰¹æ€§(What)ï¼Œå¾Œè€…æ˜¯ç”¢å‡ºç”¢å“éœ€åšçš„å·¥ä½œ(How)ã€‚</li>
                        <li><strong>ç¯„ç–‡æ½›è®Š (Scope Creep)ï¼š</strong>æœªç¶“æ ¸å‡†çš„æ“´å¼µ (è¦é¿å…)ã€‚</li>
                        <li><strong>ç¯„ç–‡éé‡‘ (Gold Plating)ï¼š</strong>PMä¸»å‹•å¢åŠ éå¿…è¦åŠŸèƒ½ (è¦é¿å…)ã€‚</li>
                    </ul>
                    <h4>(äºŒ) å·¥ä½œåˆ†è§£çµæ§‹ (WBS)</h4>
                    <p>å°‡äº¤ä»˜æˆæœåˆ†è§£ç‚ºå±¤ç´šçµæ§‹ã€‚æœ€åº•å±¤ç‚º<strong><span class="quiz-mask">å·¥ä½œåŒ… (Work Package)</span></strong>ï¼Œæ˜¯ç”¨æ–¼ä¼°ç®—æ™‚é–“æˆæœ¬çš„æœ€å°å–®ä½ã€‚</p>
                    <div class="highlight-box">
                        <strong>100% åŸå‰‡ï¼š</strong>WBS å¿…é ˆåŒ…å«å°ˆæ¡ˆ<span class="quiz-mask">æ‰€æœ‰</span>å·¥ä½œï¼Œä¸å¤šä¹Ÿä¸å°‘ã€‚
                    </div>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec3-3" class="section-block">
                <div class="section-header"><h3>åƒã€è²¬ä»»åˆ†æ´¾ (RAM/RACI)</h3><div class="master-check" data-id="sec3-3"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p>å°‡ WBS å·¥ä½œåŒ…èˆ‡ OBS çµ„ç¹”äººå“¡å°æ‡‰çš„çŸ©é™£å·¥å…·ã€‚</p>
                    <h4>RACI æ¨¡å‹è§’è‰²ï¼š</h4>
                    <ul>
                        <li><strong>R (Responsible)ï¼š</strong>å¯¦éš›åŸ·è¡Œè€… (å¯å¤šäºº)ã€‚</li>
                        <li><strong>A (Accountable)ï¼š</strong>ç•¶è²¬è€…ï¼Œè² æœ€çµ‚æˆæ•—å…¨è²¬ (<span class="quiz-mask" style="color:red;">åªèƒ½ä¸€äºº</span>)ã€‚</li>
                        <li><strong>C (Consult)ï¼š</strong>è«®è©¢è€… (é›™å‘æºé€š)ã€‚</li>
                        <li><strong>I (Inform)ï¼š</strong>å‘ŠçŸ¥è€… (å–®å‘é€šçŸ¥)ã€‚</li>
                    </ul>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec3-4" class="section-block">
                <div class="section-header"><h3>è‚†ã€æºé€šèˆ‡åƒèˆ‡è¦åŠƒ</h3><div class="master-check" data-id="sec3-4"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <p>PM ç´„ <span class="quiz-mask">75%~90%</span> æ™‚é–“åœ¨æºé€šã€‚</p>
                    <h4>åƒèˆ‡è©•ä¼°çŸ©é™£ (Engagement Matrix)</h4>
                    <p>è©•ä¼°åˆ©å®³é—œä¿‚äººå¾ã€Œç›®å‰ç‹€æ…‹(C)ã€åˆ°ã€ŒæœŸæœ›ç‹€æ…‹(D)ã€çš„å·®è·ï¼Œä¸¦è¦åŠƒè¡Œå‹•ä»¥å½Œå¹³ä¹‹ã€‚</p>
                    <p>ç‹€æ…‹ç­‰ç´šï¼šä¸çŸ¥æƒ… â†’ æŠµåˆ¶ â†’ ä¸­ç«‹ â†’ æ”¯æŒ â†’ <span class="quiz-mask">é ˜å° (Leading)</span>ã€‚</p>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>
        </section>

        <section id="sec4">
            <h2>âš™ï¸ ç¬¬å››éƒ¨åˆ†ï¼šPM è§’è‰²èˆ‡çµ„ç¹”</h2>
            <div id="sec4-1" class="section-block">
                <div class="section-header"><h3>å£¹ã€çµ„ç¹”çµæ§‹å° PM çš„å½±éŸ¿</h3><div class="master-check" data-id="sec4-1"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <table>
                        <tr><th>çµ„ç¹”å‹æ…‹</th><th>PM æ¬Šé™</th><th>è³‡æºæŒæ§</th><th>PM è§’è‰²</th></tr>
                        <tr><td>åŠŸèƒ½å‹</td><td><span class="quiz-mask">æ¥µä½</span></td><td>å¹¾ä¹ç„¡</td><td>å…¼è· (é£›é‹ä¿ )</td></tr>
                        <tr><td>å¼±çŸ©é™£</td><td>ä½</td><td>ä½</td><td>å…¼è·</td></tr>
                        <tr><td>å¹³è¡¡çŸ©é™£</td><td>ä¸­</td><td>ä¸­</td><td><span class="quiz-mask">å…¨è·</span> (é›™è€é—†)</td></tr>
                        <tr><td>å¼·çŸ©é™£</td><td>é«˜</td><td>ä¸­é«˜</td><td>å…¨è·</td></tr>
                        <tr><td>å°ˆæ¡ˆå‹</td><td><span class="quiz-mask">æ¥µé«˜</span></td><td>æ¥µé«˜</td><td>å…¨è· (å¤§è€é—†)</td></tr>
                    </table>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>

            <div id="sec4-2" class="section-block">
                <div class="section-header"><h3>è²³ã€PM èƒ½åŠ›èˆ‡é–‹ç™¼æ–¹æ³•</h3><div class="master-check" data-id="sec4-2"><span>â˜</span> æˆ‘å·²æŒæ¡</div></div>
                <div class="content-body">
                    <h4>PMI äººæ‰é‡‘ä¸‰è§’ (æœ€æ–°ç‰ˆ)ï¼š</h4>
                    <ul>
                        <li><strong>å·¥ä½œæ–¹å¼ (Ways of Working)ï¼š</strong>æŒæ¡æ•æ·ã€é æ¸¬ç­‰å„ç¨®æŠ€è¡“ã€‚</li>
                        <li><strong>å•†æ¥­æ•éŠ³åº¦ (Business Acumen)ï¼š</strong>äº†è§£ç”¢æ¥­èˆ‡çµ„ç¹”ç­–ç•¥ã€‚</li>
                        <li><strong>å½±éŸ¿åŠ›æŠ€èƒ½ (Power Skills)ï¼š</strong>é ˜å°åŠ›ã€åŒç†å¿ƒç­‰è»Ÿå¯¦åŠ›ã€‚</li>
                    </ul>
                    <h4>é–‹ç™¼æ–¹æ³•æ¯”è¼ƒï¼š</h4>
                    <ul>
                        <li><strong>é æ¸¬å‹ (Waterfall)ï¼š</strong>éœ€æ±‚æ˜ç¢ºï¼Œè¨ˆç•«å°å‘ï¼Œå†ä¸€æ¬¡æ€§äº¤ä»˜ã€‚</li>
                        <li><strong>é©æ‡‰å‹ (Agile)ï¼š</strong>éœ€æ±‚ä¸æ˜ï¼Œåƒ¹å€¼å°å‘ï¼Œ<span class="quiz-mask">è¿­ä»£</span>äº¤ä»˜ (MVP)ã€‚</li>
                    </ul>
                </div>
                <div class="note-area"><button class="note-toggle">ğŸ“ æ·»åŠ ç­†è¨˜</button><textarea class="my-note"></textarea></div>
            </div>
        </section>

        <section id="sec5">
            <h2>ğŸ§  ç¬¬äº”éƒ¨åˆ†ï¼šè§€å¿µé¡æ¯”è¨˜æ†¶å¡</h2>
            <p class="subtitle">ç”¨ç”Ÿå‹•çš„æ¯”å–»ï¼Œç§’æ‡‚æŠ½è±¡æ¦‚å¿µ</p>
            
            <div class="analogy-card">
                <h4>ğŸ—ï¸ è“‹å¤§æ¨“æ¯”å–» (å°ˆæ¡ˆæ•´é«”)</h4>
                <p><strong>å°ˆæ¡ˆ</strong>å°±æ˜¯é€™æ£Ÿç¨ä¸€ç„¡äºŒçš„å¤§æ¨“ã€‚</p>
                <p><strong>PM</strong>æ˜¯ç¸½å»ºç¯‰å¸«èˆ‡å·¥é ­ï¼Œå¹³è¡¡æ¥­ä¸»éœ€æ±‚(ç¯„ç–‡)ã€é ç®—(æˆæœ¬)èˆ‡å·¥æœŸ(æ™‚ç¨‹)ã€‚</p>
                <p><strong>WBS</strong>æ˜¯è©³ç´°çš„æ–½å·¥è—åœ–ï¼ŒæŠŠå¤§æ¨“æ‹†è§£æˆã€Œ10æ¨“çŒæ¼¿ã€ã€ã€Œå®‰è£é›»æ¢¯ã€ç­‰å…·é«”å·¥ä½œåŒ…ï¼Œç¢ºä¿æ²’å°‘è“‹ä»»ä½•ä¸€å±¤ã€‚</p>
            </div>

            <div class="analogy-card" style="background: linear-gradient(135deg, #0ea5e9, #2563eb);">
                <h4>ğŸ» äº¤éŸ¿æ¨‚åœ˜æ¯”å–» (æ•´åˆç®¡ç†)</h4>
                <p><strong>PM</strong>æ˜¯æŒ‡æ®å®¶ï¼Œä¸ä¸€å®šæœƒæ‹‰å°æç´(æŠ€è¡“å·¥ä½œ)ï¼Œä½†è² è²¬å”èª¿æ‰€æœ‰æ¨‚æ‰‹ã€‚</p>
                <p><strong>å°ˆæ¡ˆç« ç¨‹</strong>æ˜¯éŸ³æ¨‚æœƒæµ·å ±ï¼Œå…¬å‘Šæ›²ç›®(ç›®æ¨™)ã€æ™‚é–“èˆ‡æŒ‡æ®æ˜¯èª°ã€‚</p>
                <p><strong>è¨ˆç•«æ›¸</strong>æ˜¯ç¸½æ¨‚è­œï¼Œè¦å®šèª°ä½•æ™‚é€²å ´ã€å¤§å°è²(è³‡æºåˆ†é…)ï¼Œç¢ºä¿æ¼”å‡ºæˆåŠŸã€‚</p>
            </div>
        </section>

    </main>

    <button id="quiz-fab">
        <span class="icon">ğŸ›¡ï¸</span>
        <span class="text">èƒŒèª¦æ¨¡å¼</span>
    </button>

    <div class="modal-overlay" id="flashcard-modal">
        <div class="flashcard">
            <button style="position:absolute; top:15px; right:15px; border:none; background:none; font-size:1.5em; cursor:pointer; color:var(--text-muted);" onclick="closeModal()">Ã—</button>
            <h4>ğŸ² éš¨æ©ŸæŠ½è€ƒ</h4>
            <p style="color: var(--text-muted); font-size: 0.9em;" id="flashcard-context"></p>
            <div id="flashcard-q" style="font-size: 1.3em; margin: 30px 0; min-height: 60px; display: flex; align-items: center; justify-content: center;"></div>
            <div id="flashcard-a" style="font-size: 1.5em; color: var(--primary); font-weight: bold; padding: 20px; background: var(--primary-light); border-radius: 12px; display: none; animation: pop 0.3s;"></div>
            <button id="flashcard-reveal" class="tool-btn" style="width:100%; background:var(--primary); color:#fff; padding:12px; margin-top:20px; font-size:1.1em;">çœ‹ç­”æ¡ˆ</button>
            <button id="flashcard-next" class="tool-btn" style="width:100%; background:var(--accent); color:#fff; padding:12px; margin-top:10px; display:none; font-size:1.1em;">ä¸‹ä¸€é¡Œ â†’</button>
        </div>
    </div>

    <script>
        // --- Core Logic ---
        const STORAGE = {
            PROGRESS: 'pm_v4_progress',
            NOTES: 'pm_v4_notes',
            DARK: 'pm_v4_dark'
        };
        let appState = {
            progress: JSON.parse(localStorage.getItem(STORAGE.PROGRESS) || '{}'),
            notes: JSON.parse(localStorage.getItem(STORAGE.NOTES) || '{}'),
            darkMode: localStorage.getItem(STORAGE.DARK) === 'true'
        };

        // Init
        if (appState.darkMode) document.body.classList.add('dark-mode');
        document.getElementById('btn-dark').innerHTML = appState.darkMode ? 'â˜€ï¸ æ—¥é–“æ¨¡å¼' : 'ğŸŒ™ å¤œé–“æ¨¡å¼';
        Object.keys(appState.progress).forEach(id => { if(appState.progress[id]) updateProgressUI(id, true); });
        document.querySelectorAll('.my-note').forEach(el => {
            const id = el.closest('.section-block').id;
            if(appState.notes[id]) { el.value = appState.notes[id]; el.style.display = 'block'; }
        });

        // Event Listeners
        document.getElementById('btn-dark').addEventListener('click', () => {
            appState.darkMode = !appState.darkMode;
            document.body.classList.toggle('dark-mode', appState.darkMode);
            document.getElementById('btn-dark').innerHTML = appState.darkMode ? 'â˜€ï¸ æ—¥é–“æ¨¡å¼' : 'ğŸŒ™ å¤œé–“æ¨¡å¼';
            localStorage.setItem(STORAGE.DARK, appState.darkMode);
        });

        document.getElementById('quiz-fab').addEventListener('click', function() {
            const active = document.body.classList.toggle('quiz-mode');
            this.querySelector('.text').textContent = active ? 'é€€å‡ºèƒŒèª¦' : 'èƒŒèª¦æ¨¡å¼';
            this.querySelector('.icon').textContent = active ? 'ğŸ“' : 'ğŸ›¡ï¸';
            if(!active) document.querySelectorAll('.quiz-mask.revealed').forEach(el => el.classList.remove('revealed'));
        });
        document.body.addEventListener('click', e => {
            if(document.body.classList.contains('quiz-mode') && e.target.classList.contains('quiz-mask')) {
                e.target.classList.add('revealed');
            }
        });

        document.querySelectorAll('.master-check').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const id = btn.dataset.id;
                const newState = !appState.progress[id];
                appState.progress[id] = newState;
                updateProgressUI(id, newState);
                localStorage.setItem(STORAGE.PROGRESS, JSON.stringify(appState.progress));
                e.stopPropagation();
            });
        });

        function updateProgressUI(id, isMastered) {
            const section = document.getElementById(id);
            const check = section.querySelector('.master-check');
            const dot = document.querySelector(`.progress-dot[data-target="${id}"]`);
            section.classList.toggle('mastered', isMastered);
            check.classList.toggle('checked', isMastered);
            check.innerHTML = isMastered ? '<span>â˜‘</span> å·²æŒæ¡' : '<span>â˜</span> æˆ‘å·²æŒæ¡';
            if(dot) dot.parentElement.classList.toggle('mastered', isMastered);
        }

        // Notes & Search
        document.querySelectorAll('.note-toggle').forEach(btn => btn.addEventListener('click', e => {
            const area = e.target.nextElementSibling;
            area.style.display = area.style.display === 'block' ? 'none' : 'block';
            if(area.style.display === 'block') area.focus();
        }));
        document.querySelectorAll('.my-note').forEach(el => el.addEventListener('input', e => {
            appState.notes[el.closest('.section-block').id] = e.target.value;
            localStorage.setItem(STORAGE.NOTES, JSON.stringify(appState.notes));
        }));
        document.getElementById('search-input').addEventListener('input', e => {
            const term = e.target.value.toLowerCase();
            document.querySelectorAll('.section-block').forEach(sec => {
                sec.style.display = sec.innerText.toLowerCase().includes(term) ? 'block' : 'none';
            });
        });

        // Flashcard System
        let flashcards = [];
        document.querySelectorAll('.quiz-mask').forEach(mask => {
            const ctx = mask.closest('p, li, td');
            if(ctx && mask.innerText.trim()) {
                let q = ctx.cloneNode(true);
                let m = q.querySelectorAll('.quiz-mask');
                let idx = Array.from(ctx.querySelectorAll('.quiz-mask')).indexOf(mask);
                if(m[idx]) {
                    m[idx].innerText = 'ã€_____ã€‘';
                    m[idx].style.borderBottom = '3px solid var(--accent)';
                }
                flashcards.push({
                    q: q.innerHTML, a: mask.innerText,
                    src: mask.closest('.section-block')?.querySelector('h3')?.innerText || 'åŸºç¤æ¦‚å¿µ'
                });
            }
        });

        const modal = document.getElementById('flashcard-modal');
        const els = { q: document.getElementById('flashcard-q'), a: document.getElementById('flashcard-a'), c: document.getElementById('flashcard-context'), r: document.getElementById('flashcard-reveal'), n: document.getElementById('flashcard-next') };
        
        function nextCard() {
            if(!flashcards.length) return alert('æ²’æœ‰å¯ç”¨çš„é¡Œç›®ï¼');
            const card = flashcards[Math.floor(Math.random() * flashcards.length)];
            els.q.innerHTML = card.q; els.a.innerText = card.a; els.c.innerText = `å‡ºè™•ï¼š${card.src}`;
            els.a.style.display = 'none'; els.r.style.display = 'block'; els.n.style.display = 'none';
            modal.classList.add('active');
        }
        function closeModal() { modal.classList.remove('active'); }
        
        document.getElementById('btn-flashcard').addEventListener('click', nextCard);
        els.r.addEventListener('click', () => { els.a.style.display='block'; els.r.style.display='none'; els.n.style.display='block'; });
        els.n.addEventListener('click', nextCard);
        modal.addEventListener('click', e => { if(e.target === modal) closeModal(); });

        document.getElementById('btn-reset').addEventListener('click', () => {
            if(confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰ç´€éŒ„å—ï¼Ÿ')) {
                localStorage.clear(); location.reload();
            }
        });

        // Mobile Menu
        document.getElementById('menu-toggle').addEventListener('click', () => document.getElementById('sidebar').classList.add('open'));
        document.addEventListener('click', e => {
            if(window.innerWidth <= 768 && !e.target.closest('.sidebar') && !e.target.closest('#menu-toggle')) {
                document.getElementById('sidebar').classList.remove('open');
            }
        });
    </script>
</body>
</html>
```
